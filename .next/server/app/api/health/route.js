"use strict";(()=>{var e={};e.id=829,e.ids=[829],e.modules={399:e=>{e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},517:e=>{e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},2048:e=>{e.exports=require("fs")},5315:e=>{e.exports=require("path")},6684:(e,t,r)=>{r.r(t),r.d(t,{originalPathname:()=>h,patchFetch:()=>g,requestAsyncStorage:()=>f,routeModule:()=>p,serverHooks:()=>c,staticGenerationAsyncStorage:()=>d});var o={};r.r(o),r.d(o,{GET:()=>u});var n=r(9303),i=r(8716),a=r(670),l=r(7070),s=r(7599);async function u(){return l.NextResponse.json({status:"ok",fontAvailable:(0,s.DX)(),message:(0,s.DX)()?"Шрифт загружен":"Добавьте font в public/fonts/"})}let p=new n.AppRouteRouteModule({definition:{kind:i.x.APP_ROUTE,page:"/api/health/route",pathname:"/api/health",filename:"route",bundlePath:"app/api/health/route"},resolvedPagePath:"C:\\Users\\Mardin it\\Desktop\\crs\\student-ai-nextjs\\src\\app\\api\\health\\route.ts",nextConfigOutput:"",userland:o}),{requestAsyncStorage:f,staticGenerationAsyncStorage:d,serverHooks:c}=p,h="/api/health/route";function g(){return(0,a.patchFetch)({serverHooks:c,staticGenerationAsyncStorage:d})}},7599:(e,t,r)=>{r.d(t,{gO:()=>d,vj:()=>f,DX:()=>p});let o=require("pdfkit");var n=r.n(o),i=r(5315),a=r.n(i),l=r(2048),s=r.n(l);let u=a().join(process.cwd(),"public","fonts","Roboto-Regular.ttf");function p(){return s().existsSync(u)}function f(e,t,r){return new Promise((o,i)=>{let a=[],l=new(n())({size:"A4",margins:{top:72,bottom:72,left:72,right:72},bufferPages:!0});for(let n of(l.on("data",e=>a.push(e)),l.on("end",()=>o(Buffer.concat(a))),l.on("error",i),p()&&l.font(u),l.fontSize(24).text(t,{align:"center"}).moveDown(2),l.fontSize(16).text(`Предмет: ${r}`,{align:"center"}).moveDown(4),l.fontSize(12).text("СРС (Самостоятельная работа студента)",{align:"center"}),l.addPage(),e.split("\n"))){let e=n.trim();if(!e){l.moveDown(.5);continue}/^[А-ЯЁІЇЄҐ\s\d.]+:?$/.test(e)||/^\d+\.\s+[А-ЯЁІЇЄҐ]/.test(e)||e.startsWith("ГЛАВА")||e.startsWith("ВВЕДЕНИЕ")||e.startsWith("ЗАКЛЮЧЕНИЕ")||e.startsWith("ОГЛАВЛЕНИЕ")||e.startsWith("СПИСОК")?(l.moveDown(1).fontSize(14).text(e,{align:"left"}).moveDown(.5),l.fontSize(12)):(l.y>700&&l.addPage(),l.text(e,{align:"justify",lineGap:4,paragraphGap:8}))}let s=l.bufferedPageRange().count;for(let e=0;e<s;e++)l.switchToPage(e),l.fontSize(10).text(`${e+1}`,0,l.page.height-50,{align:"center"});l.end()})}function d(e,t,r){return new Promise((t,r)=>{let o=[],i=new(n())({size:"A4",layout:"landscape",margins:{top:50,bottom:50,left:60,right:60},bufferPages:!0});i.on("data",e=>o.push(e)),i.on("end",()=>t(Buffer.concat(o))),i.on("error",r),p()&&i.font(u);let a={primary:"#1a365d",secondary:"#2b6cb0",accent:"#4299e1",text:"#2d3748",bullet:"#e53e3e"},l=e.filter(e=>e&&(e.title||e.bullets&&e.bullets.length>0));l.forEach((e,t)=>{t>0&&i.addPage();let r=i.page.width-120;i.rect(40,30,i.page.width-80,i.page.height-60).stroke(a.accent),i.fontSize(10).fillColor(a.secondary).text(`${t+1} / ${l.length}`,i.page.width-100,i.page.height-45);let o=e.title||`Слайд ${t+1}`;if(i.fontSize(28).fillColor(a.primary).text(o,60,60,{width:r,align:"center"}),i.moveTo(100,120).lineTo(i.page.width-100,120).strokeColor(a.accent).lineWidth(2).stroke(),e.bullets&&e.bullets.length>0){let t=150;for(let o of(i.fontSize(16).fillColor(a.text),e.bullets))o&&!(t>i.page.height-80)&&(i.circle(80,t+8,4).fillColor(a.bullet).fill(),i.fillColor(a.text).text(o,100,t,{width:r-60,lineGap:3}),t=i.y+12)}}),i.end()})}}};var t=require("../../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),o=t.X(0,[276,972],()=>r(6684));module.exports=o})();