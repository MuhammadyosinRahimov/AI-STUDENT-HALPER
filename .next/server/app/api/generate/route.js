/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "app/api/generate/route";
exports.ids = ["app/api/generate/route"];
exports.modules = {

/***/ "next/dist/compiled/next-server/app-page.runtime.dev.js":
/*!*************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-page.runtime.dev.js" ***!
  \*************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/compiled/next-server/app-page.runtime.dev.js");

/***/ }),

/***/ "next/dist/compiled/next-server/app-route.runtime.dev.js":
/*!**************************************************************************!*\
  !*** external "next/dist/compiled/next-server/app-route.runtime.dev.js" ***!
  \**************************************************************************/
/***/ ((module) => {

"use strict";
module.exports = require("next/dist/compiled/next-server/app-route.runtime.dev.js");

/***/ }),

/***/ "pdfkit":
/*!*************************!*\
  !*** external "pdfkit" ***!
  \*************************/
/***/ ((module) => {

"use strict";
module.exports = require("pdfkit");

/***/ }),

/***/ "buffer":
/*!*************************!*\
  !*** external "buffer" ***!
  \*************************/
/***/ ((module) => {

"use strict";
module.exports = require("buffer");

/***/ }),

/***/ "crypto":
/*!*************************!*\
  !*** external "crypto" ***!
  \*************************/
/***/ ((module) => {

"use strict";
module.exports = require("crypto");

/***/ }),

/***/ "events":
/*!*************************!*\
  !*** external "events" ***!
  \*************************/
/***/ ((module) => {

"use strict";
module.exports = require("events");

/***/ }),

/***/ "fs":
/*!*********************!*\
  !*** external "fs" ***!
  \*********************/
/***/ ((module) => {

"use strict";
module.exports = require("fs");

/***/ }),

/***/ "http":
/*!***********************!*\
  !*** external "http" ***!
  \***********************/
/***/ ((module) => {

"use strict";
module.exports = require("http");

/***/ }),

/***/ "https":
/*!************************!*\
  !*** external "https" ***!
  \************************/
/***/ ((module) => {

"use strict";
module.exports = require("https");

/***/ }),

/***/ "net":
/*!**********************!*\
  !*** external "net" ***!
  \**********************/
/***/ ((module) => {

"use strict";
module.exports = require("net");

/***/ }),

/***/ "os":
/*!*********************!*\
  !*** external "os" ***!
  \*********************/
/***/ ((module) => {

"use strict";
module.exports = require("os");

/***/ }),

/***/ "path":
/*!***********************!*\
  !*** external "path" ***!
  \***********************/
/***/ ((module) => {

"use strict";
module.exports = require("path");

/***/ }),

/***/ "stream":
/*!*************************!*\
  !*** external "stream" ***!
  \*************************/
/***/ ((module) => {

"use strict";
module.exports = require("stream");

/***/ }),

/***/ "tls":
/*!**********************!*\
  !*** external "tls" ***!
  \**********************/
/***/ ((module) => {

"use strict";
module.exports = require("tls");

/***/ }),

/***/ "url":
/*!**********************!*\
  !*** external "url" ***!
  \**********************/
/***/ ((module) => {

"use strict";
module.exports = require("url");

/***/ }),

/***/ "zlib":
/*!***********************!*\
  !*** external "zlib" ***!
  \***********************/
/***/ ((module) => {

"use strict";
module.exports = require("zlib");

/***/ }),

/***/ "?66e9":
/*!********************************!*\
  !*** utf-8-validate (ignored) ***!
  \********************************/
/***/ (() => {

/* (ignored) */

/***/ }),

/***/ "(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fgenerate%2Froute&page=%2Fapi%2Fgenerate%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fgenerate%2Froute.ts&appDir=C%3A%5CUsers%5CMardin%20it%5CDesktop%5Ccrs%5Cstudent-ai-nextjs%5Csrc%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=C%3A%5CUsers%5CMardin%20it%5CDesktop%5Ccrs%5Cstudent-ai-nextjs&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!":
/*!**************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fgenerate%2Froute&page=%2Fapi%2Fgenerate%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fgenerate%2Froute.ts&appDir=C%3A%5CUsers%5CMardin%20it%5CDesktop%5Ccrs%5Cstudent-ai-nextjs%5Csrc%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=C%3A%5CUsers%5CMardin%20it%5CDesktop%5Ccrs%5Cstudent-ai-nextjs&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D! ***!
  \**************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   originalPathname: () => (/* binding */ originalPathname),\n/* harmony export */   patchFetch: () => (/* binding */ patchFetch),\n/* harmony export */   requestAsyncStorage: () => (/* binding */ requestAsyncStorage),\n/* harmony export */   routeModule: () => (/* binding */ routeModule),\n/* harmony export */   serverHooks: () => (/* binding */ serverHooks),\n/* harmony export */   staticGenerationAsyncStorage: () => (/* binding */ staticGenerationAsyncStorage)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/future/route-modules/app-route/module.compiled */ \"(rsc)/./node_modules/next/dist/server/future/route-modules/app-route/module.compiled.js\");\n/* harmony import */ var next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/future/route-kind */ \"(rsc)/./node_modules/next/dist/server/future/route-kind.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/server/lib/patch-fetch */ \"(rsc)/./node_modules/next/dist/server/lib/patch-fetch.js\");\n/* harmony import */ var next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var C_Users_Mardin_it_Desktop_crs_student_ai_nextjs_src_app_api_generate_route_ts__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./src/app/api/generate/route.ts */ \"(rsc)/./src/app/api/generate/route.ts\");\n\n\n\n\n// We inject the nextConfigOutput here so that we can use them in the route\n// module.\nconst nextConfigOutput = \"\"\nconst routeModule = new next_dist_server_future_route_modules_app_route_module_compiled__WEBPACK_IMPORTED_MODULE_0__.AppRouteRouteModule({\n    definition: {\n        kind: next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.APP_ROUTE,\n        page: \"/api/generate/route\",\n        pathname: \"/api/generate\",\n        filename: \"route\",\n        bundlePath: \"app/api/generate/route\"\n    },\n    resolvedPagePath: \"C:\\\\Users\\\\Mardin it\\\\Desktop\\\\crs\\\\student-ai-nextjs\\\\src\\\\app\\\\api\\\\generate\\\\route.ts\",\n    nextConfigOutput,\n    userland: C_Users_Mardin_it_Desktop_crs_student_ai_nextjs_src_app_api_generate_route_ts__WEBPACK_IMPORTED_MODULE_3__\n});\n// Pull out the exports that we need to expose from the module. This should\n// be eliminated when we've moved the other routes to the new format. These\n// are used to hook into the route.\nconst { requestAsyncStorage, staticGenerationAsyncStorage, serverHooks } = routeModule;\nconst originalPathname = \"/api/generate/route\";\nfunction patchFetch() {\n    return (0,next_dist_server_lib_patch_fetch__WEBPACK_IMPORTED_MODULE_2__.patchFetch)({\n        serverHooks,\n        staticGenerationAsyncStorage\n    });\n}\n\n\n//# sourceMappingURL=app-route.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LWFwcC1sb2FkZXIuanM/bmFtZT1hcHAlMkZhcGklMkZnZW5lcmF0ZSUyRnJvdXRlJnBhZ2U9JTJGYXBpJTJGZ2VuZXJhdGUlMkZyb3V0ZSZhcHBQYXRocz0mcGFnZVBhdGg9cHJpdmF0ZS1uZXh0LWFwcC1kaXIlMkZhcGklMkZnZW5lcmF0ZSUyRnJvdXRlLnRzJmFwcERpcj1DJTNBJTVDVXNlcnMlNUNNYXJkaW4lMjBpdCU1Q0Rlc2t0b3AlNUNjcnMlNUNzdHVkZW50LWFpLW5leHRqcyU1Q3NyYyU1Q2FwcCZwYWdlRXh0ZW5zaW9ucz10c3gmcGFnZUV4dGVuc2lvbnM9dHMmcGFnZUV4dGVuc2lvbnM9anN4JnBhZ2VFeHRlbnNpb25zPWpzJnJvb3REaXI9QyUzQSU1Q1VzZXJzJTVDTWFyZGluJTIwaXQlNUNEZXNrdG9wJTVDY3JzJTVDc3R1ZGVudC1haS1uZXh0anMmaXNEZXY9dHJ1ZSZ0c2NvbmZpZ1BhdGg9dHNjb25maWcuanNvbiZiYXNlUGF0aD0mYXNzZXRQcmVmaXg9Jm5leHRDb25maWdPdXRwdXQ9JnByZWZlcnJlZFJlZ2lvbj0mbWlkZGxld2FyZUNvbmZpZz1lMzAlM0QhIiwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7OztBQUFzRztBQUN2QztBQUNjO0FBQ3dDO0FBQ3JIO0FBQ0E7QUFDQTtBQUNBLHdCQUF3QixnSEFBbUI7QUFDM0M7QUFDQSxjQUFjLHlFQUFTO0FBQ3ZCO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0E7QUFDQSxZQUFZO0FBQ1osQ0FBQztBQUNEO0FBQ0E7QUFDQTtBQUNBLFFBQVEsaUVBQWlFO0FBQ3pFO0FBQ0E7QUFDQSxXQUFXLDRFQUFXO0FBQ3RCO0FBQ0E7QUFDQSxLQUFLO0FBQ0w7QUFDdUg7O0FBRXZIIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vc3R1ZGVudC1haS1uZXh0anMvP2JiOWMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgQXBwUm91dGVSb3V0ZU1vZHVsZSB9IGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL2Z1dHVyZS9yb3V0ZS1tb2R1bGVzL2FwcC1yb3V0ZS9tb2R1bGUuY29tcGlsZWRcIjtcbmltcG9ydCB7IFJvdXRlS2luZCB9IGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL2Z1dHVyZS9yb3V0ZS1raW5kXCI7XG5pbXBvcnQgeyBwYXRjaEZldGNoIGFzIF9wYXRjaEZldGNoIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvbGliL3BhdGNoLWZldGNoXCI7XG5pbXBvcnQgKiBhcyB1c2VybGFuZCBmcm9tIFwiQzpcXFxcVXNlcnNcXFxcTWFyZGluIGl0XFxcXERlc2t0b3BcXFxcY3JzXFxcXHN0dWRlbnQtYWktbmV4dGpzXFxcXHNyY1xcXFxhcHBcXFxcYXBpXFxcXGdlbmVyYXRlXFxcXHJvdXRlLnRzXCI7XG4vLyBXZSBpbmplY3QgdGhlIG5leHRDb25maWdPdXRwdXQgaGVyZSBzbyB0aGF0IHdlIGNhbiB1c2UgdGhlbSBpbiB0aGUgcm91dGVcbi8vIG1vZHVsZS5cbmNvbnN0IG5leHRDb25maWdPdXRwdXQgPSBcIlwiXG5jb25zdCByb3V0ZU1vZHVsZSA9IG5ldyBBcHBSb3V0ZVJvdXRlTW9kdWxlKHtcbiAgICBkZWZpbml0aW9uOiB7XG4gICAgICAgIGtpbmQ6IFJvdXRlS2luZC5BUFBfUk9VVEUsXG4gICAgICAgIHBhZ2U6IFwiL2FwaS9nZW5lcmF0ZS9yb3V0ZVwiLFxuICAgICAgICBwYXRobmFtZTogXCIvYXBpL2dlbmVyYXRlXCIsXG4gICAgICAgIGZpbGVuYW1lOiBcInJvdXRlXCIsXG4gICAgICAgIGJ1bmRsZVBhdGg6IFwiYXBwL2FwaS9nZW5lcmF0ZS9yb3V0ZVwiXG4gICAgfSxcbiAgICByZXNvbHZlZFBhZ2VQYXRoOiBcIkM6XFxcXFVzZXJzXFxcXE1hcmRpbiBpdFxcXFxEZXNrdG9wXFxcXGNyc1xcXFxzdHVkZW50LWFpLW5leHRqc1xcXFxzcmNcXFxcYXBwXFxcXGFwaVxcXFxnZW5lcmF0ZVxcXFxyb3V0ZS50c1wiLFxuICAgIG5leHRDb25maWdPdXRwdXQsXG4gICAgdXNlcmxhbmRcbn0pO1xuLy8gUHVsbCBvdXQgdGhlIGV4cG9ydHMgdGhhdCB3ZSBuZWVkIHRvIGV4cG9zZSBmcm9tIHRoZSBtb2R1bGUuIFRoaXMgc2hvdWxkXG4vLyBiZSBlbGltaW5hdGVkIHdoZW4gd2UndmUgbW92ZWQgdGhlIG90aGVyIHJvdXRlcyB0byB0aGUgbmV3IGZvcm1hdC4gVGhlc2Vcbi8vIGFyZSB1c2VkIHRvIGhvb2sgaW50byB0aGUgcm91dGUuXG5jb25zdCB7IHJlcXVlc3RBc3luY1N0b3JhZ2UsIHN0YXRpY0dlbmVyYXRpb25Bc3luY1N0b3JhZ2UsIHNlcnZlckhvb2tzIH0gPSByb3V0ZU1vZHVsZTtcbmNvbnN0IG9yaWdpbmFsUGF0aG5hbWUgPSBcIi9hcGkvZ2VuZXJhdGUvcm91dGVcIjtcbmZ1bmN0aW9uIHBhdGNoRmV0Y2goKSB7XG4gICAgcmV0dXJuIF9wYXRjaEZldGNoKHtcbiAgICAgICAgc2VydmVySG9va3MsXG4gICAgICAgIHN0YXRpY0dlbmVyYXRpb25Bc3luY1N0b3JhZ2VcbiAgICB9KTtcbn1cbmV4cG9ydCB7IHJvdXRlTW9kdWxlLCByZXF1ZXN0QXN5bmNTdG9yYWdlLCBzdGF0aWNHZW5lcmF0aW9uQXN5bmNTdG9yYWdlLCBzZXJ2ZXJIb29rcywgb3JpZ2luYWxQYXRobmFtZSwgcGF0Y2hGZXRjaCwgIH07XG5cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPWFwcC1yb3V0ZS5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fgenerate%2Froute&page=%2Fapi%2Fgenerate%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fgenerate%2Froute.ts&appDir=C%3A%5CUsers%5CMardin%20it%5CDesktop%5Ccrs%5Cstudent-ai-nextjs%5Csrc%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=C%3A%5CUsers%5CMardin%20it%5CDesktop%5Ccrs%5Cstudent-ai-nextjs&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!\n");

/***/ }),

/***/ "(rsc)/./src/app/api/generate/route.ts":
/*!***************************************!*\
  !*** ./src/app/api/generate/route.ts ***!
  \***************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   POST: () => (/* binding */ POST)\n/* harmony export */ });\n/* harmony import */ var next_server__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/server */ \"(rsc)/./node_modules/next/dist/api/server.js\");\n/* harmony import */ var _lib_ai__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! @/lib/ai */ \"(rsc)/./src/lib/ai.ts\");\n/* harmony import */ var _lib_pdf__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @/lib/pdf */ \"(rsc)/./src/lib/pdf.ts\");\n/* harmony import */ var _lib_db__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @/lib/db */ \"(rsc)/./src/lib/db.ts\");\n\n\n\n\nasync function POST(request) {\n    try {\n        const body = await request.json();\n        const { type, topic, subject, pages, additionalInfo, language = \"ru\" } = body;\n        if (!type || !topic || !subject || !pages) {\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                error: \"Ð—Ð°Ð¿Ð¾Ð»Ð½Ð¸Ñ‚Ðµ Ð²ÑÐµ Ð¾Ð±ÑÐ·Ð°Ñ‚ÐµÐ»ÑŒÐ½Ñ‹Ðµ Ð¿Ð¾Ð»Ñ\"\n            }, {\n                status: 400\n            });\n        }\n        if (![\n            \"srs\",\n            \"presentation\"\n        ].includes(type)) {\n            return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n                error: 'ÐÐµÐ²ÐµÑ€Ð½Ñ‹Ð¹ Ñ‚Ð¸Ð¿: Ð¸ÑÐ¿Ð¾Ð»ÑŒÐ·ÑƒÐ¹Ñ‚Ðµ \"srs\" Ð¸Ð»Ð¸ \"presentation\"'\n            }, {\n                status: 400\n            });\n        }\n        console.log(`ðŸ“ Generating ${type} for topic: \"${topic}\" in ${language}`);\n        let content;\n        let pdfBuffer;\n        const lang = language;\n        if (type === \"srs\") {\n            content = await (0,_lib_ai__WEBPACK_IMPORTED_MODULE_1__.generateSRS)(topic, subject, pages, additionalInfo, lang);\n            pdfBuffer = await (0,_lib_pdf__WEBPACK_IMPORTED_MODULE_2__.generateSRSPdf)(content, topic, subject);\n        } else {\n            const slides = await (0,_lib_ai__WEBPACK_IMPORTED_MODULE_1__.generatePresentation)(topic, subject, pages, additionalInfo, lang);\n            content = JSON.stringify(slides, null, 2);\n            pdfBuffer = await (0,_lib_pdf__WEBPACK_IMPORTED_MODULE_2__.generatePresentationPdf)(slides, topic, subject);\n        }\n        const saved = await (0,_lib_db__WEBPACK_IMPORTED_MODULE_3__.saveGeneration)({\n            type,\n            topic,\n            subject,\n            pages: parseInt(pages),\n            additionalInfo,\n            content,\n            pdfBuffer\n        });\n        console.log(`âœ… Generated and saved with ID: ${saved.id}`);\n        // Convert Buffer to Uint8Array for NextResponse compatibility\n        const pdfData = new Uint8Array(pdfBuffer);\n        return new next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse(pdfData, {\n            headers: {\n                \"Content-Type\": \"application/pdf\",\n                \"Content-Disposition\": `attachment; filename=\"${type}_${Date.now()}.pdf\"`,\n                \"X-Generation-Id\": saved.id.toString()\n            }\n        });\n    } catch (error) {\n        console.error(\"âŒ Generation error:\", error);\n        return next_server__WEBPACK_IMPORTED_MODULE_0__.NextResponse.json({\n            error: \"ÐžÑˆÐ¸Ð±ÐºÐ° Ð³ÐµÐ½ÐµÑ€Ð°Ñ†Ð¸Ð¸\",\n            message: error.message\n        }, {\n            status: 500\n        });\n    }\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9zcmMvYXBwL2FwaS9nZW5lcmF0ZS9yb3V0ZS50cyIsIm1hcHBpbmdzIjoiOzs7Ozs7OztBQUF3RDtBQUNLO0FBQ087QUFDMUI7QUFHbkMsZUFBZU0sS0FBS0MsT0FBb0I7SUFDN0MsSUFBSTtRQUNGLE1BQU1DLE9BQU8sTUFBTUQsUUFBUUUsSUFBSTtRQUMvQixNQUFNLEVBQUVDLElBQUksRUFBRUMsS0FBSyxFQUFFQyxPQUFPLEVBQUVDLEtBQUssRUFBRUMsY0FBYyxFQUFFQyxXQUFXLElBQUksRUFBRSxHQUFHUDtRQUV6RSxJQUFJLENBQUNFLFFBQVEsQ0FBQ0MsU0FBUyxDQUFDQyxXQUFXLENBQUNDLE9BQU87WUFDekMsT0FBT2IscURBQVlBLENBQUNTLElBQUksQ0FDdEI7Z0JBQUVPLE9BQU87WUFBa0MsR0FDM0M7Z0JBQUVDLFFBQVE7WUFBSTtRQUVsQjtRQUVBLElBQUksQ0FBQztZQUFDO1lBQU87U0FBZSxDQUFDQyxRQUFRLENBQUNSLE9BQU87WUFDM0MsT0FBT1YscURBQVlBLENBQUNTLElBQUksQ0FDdEI7Z0JBQUVPLE9BQU87WUFBcUQsR0FDOUQ7Z0JBQUVDLFFBQVE7WUFBSTtRQUVsQjtRQUVBRSxRQUFRQyxHQUFHLENBQUMsQ0FBQyxjQUFjLEVBQUVWLEtBQUssYUFBYSxFQUFFQyxNQUFNLEtBQUssRUFBRUksU0FBUyxDQUFDO1FBRXhFLElBQUlNO1FBQ0osSUFBSUM7UUFDSixNQUFNQyxPQUFPUjtRQUViLElBQUlMLFNBQVMsT0FBTztZQUNsQlcsVUFBVSxNQUFNcEIsb0RBQVdBLENBQUNVLE9BQU9DLFNBQVNDLE9BQU9DLGdCQUFnQlM7WUFDbkVELFlBQVksTUFBTW5CLHdEQUFjQSxDQUFDa0IsU0FBU1YsT0FBT0M7UUFDbkQsT0FBTztZQUNMLE1BQU1ZLFNBQVMsTUFBTXRCLDZEQUFvQkEsQ0FBQ1MsT0FBT0MsU0FBU0MsT0FBT0MsZ0JBQWdCUztZQUNqRkYsVUFBVUksS0FBS0MsU0FBUyxDQUFDRixRQUFRLE1BQU07WUFDdkNGLFlBQVksTUFBTWxCLGlFQUF1QkEsQ0FBQ29CLFFBQVFiLE9BQU9DO1FBQzNEO1FBRUEsTUFBTWUsUUFBUSxNQUFNdEIsdURBQWNBLENBQUM7WUFDakNLO1lBQ0FDO1lBQ0FDO1lBQ0FDLE9BQU9lLFNBQVNmO1lBQ2hCQztZQUNBTztZQUNBQztRQUNGO1FBRUFILFFBQVFDLEdBQUcsQ0FBQyxDQUFDLCtCQUErQixFQUFFTyxNQUFNRSxFQUFFLENBQUMsQ0FBQztRQUV4RCw4REFBOEQ7UUFDOUQsTUFBTUMsVUFBVSxJQUFJQyxXQUFXVDtRQUUvQixPQUFPLElBQUl0QixxREFBWUEsQ0FBQzhCLFNBQVM7WUFDL0JFLFNBQVM7Z0JBQ1AsZ0JBQWdCO2dCQUNoQix1QkFBdUIsQ0FBQyxzQkFBc0IsRUFBRXRCLEtBQUssQ0FBQyxFQUFFdUIsS0FBS0MsR0FBRyxHQUFHLEtBQUssQ0FBQztnQkFDekUsbUJBQW1CUCxNQUFNRSxFQUFFLENBQUNNLFFBQVE7WUFDdEM7UUFDRjtJQUNGLEVBQUUsT0FBT25CLE9BQU87UUFDZEcsUUFBUUgsS0FBSyxDQUFDLHVCQUF1QkE7UUFDckMsT0FBT2hCLHFEQUFZQSxDQUFDUyxJQUFJLENBQ3RCO1lBQUVPLE9BQU87WUFBb0JvQixTQUFTLE1BQWlCQSxPQUFPO1FBQUMsR0FDL0Q7WUFBRW5CLFFBQVE7UUFBSTtJQUVsQjtBQUNGIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vc3R1ZGVudC1haS1uZXh0anMvLi9zcmMvYXBwL2FwaS9nZW5lcmF0ZS9yb3V0ZS50cz85MWRlIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IE5leHRSZXF1ZXN0LCBOZXh0UmVzcG9uc2UgfSBmcm9tICduZXh0L3NlcnZlcic7XHJcbmltcG9ydCB7IGdlbmVyYXRlU1JTLCBnZW5lcmF0ZVByZXNlbnRhdGlvbiB9IGZyb20gJ0AvbGliL2FpJztcclxuaW1wb3J0IHsgZ2VuZXJhdGVTUlNQZGYsIGdlbmVyYXRlUHJlc2VudGF0aW9uUGRmIH0gZnJvbSAnQC9saWIvcGRmJztcclxuaW1wb3J0IHsgc2F2ZUdlbmVyYXRpb24gfSBmcm9tICdAL2xpYi9kYic7XHJcbmltcG9ydCB0eXBlIHsgTGFuZ3VhZ2UgfSBmcm9tICdAL2xpYi9pMThuJztcclxuXHJcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBQT1NUKHJlcXVlc3Q6IE5leHRSZXF1ZXN0KSB7XHJcbiAgdHJ5IHtcclxuICAgIGNvbnN0IGJvZHkgPSBhd2FpdCByZXF1ZXN0Lmpzb24oKTtcclxuICAgIGNvbnN0IHsgdHlwZSwgdG9waWMsIHN1YmplY3QsIHBhZ2VzLCBhZGRpdGlvbmFsSW5mbywgbGFuZ3VhZ2UgPSAncnUnIH0gPSBib2R5O1xyXG5cclxuICAgIGlmICghdHlwZSB8fCAhdG9waWMgfHwgIXN1YmplY3QgfHwgIXBhZ2VzKSB7XHJcbiAgICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbihcclxuICAgICAgICB7IGVycm9yOiAn0JfQsNC/0L7Qu9C90LjRgtC1INCy0YHQtSDQvtCx0Y/Qt9Cw0YLQtdC70YzQvdGL0LUg0L/QvtC70Y8nIH0sXHJcbiAgICAgICAgeyBzdGF0dXM6IDQwMCB9XHJcbiAgICAgICk7XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKCFbJ3NycycsICdwcmVzZW50YXRpb24nXS5pbmNsdWRlcyh0eXBlKSkge1xyXG4gICAgICByZXR1cm4gTmV4dFJlc3BvbnNlLmpzb24oXHJcbiAgICAgICAgeyBlcnJvcjogJ9Cd0LXQstC10YDQvdGL0Lkg0YLQuNC/OiDQuNGB0L/QvtC70YzQt9GD0LnRgtC1IFwic3JzXCIg0LjQu9C4IFwicHJlc2VudGF0aW9uXCInIH0sXHJcbiAgICAgICAgeyBzdGF0dXM6IDQwMCB9XHJcbiAgICAgICk7XHJcbiAgICB9XHJcblxyXG4gICAgY29uc29sZS5sb2coYPCfk50gR2VuZXJhdGluZyAke3R5cGV9IGZvciB0b3BpYzogXCIke3RvcGljfVwiIGluICR7bGFuZ3VhZ2V9YCk7XHJcblxyXG4gICAgbGV0IGNvbnRlbnQ6IHN0cmluZztcclxuICAgIGxldCBwZGZCdWZmZXI6IEJ1ZmZlcjtcclxuICAgIGNvbnN0IGxhbmcgPSBsYW5ndWFnZSBhcyBMYW5ndWFnZTtcclxuXHJcbiAgICBpZiAodHlwZSA9PT0gJ3NycycpIHtcclxuICAgICAgY29udGVudCA9IGF3YWl0IGdlbmVyYXRlU1JTKHRvcGljLCBzdWJqZWN0LCBwYWdlcywgYWRkaXRpb25hbEluZm8sIGxhbmcpO1xyXG4gICAgICBwZGZCdWZmZXIgPSBhd2FpdCBnZW5lcmF0ZVNSU1BkZihjb250ZW50LCB0b3BpYywgc3ViamVjdCk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBjb25zdCBzbGlkZXMgPSBhd2FpdCBnZW5lcmF0ZVByZXNlbnRhdGlvbih0b3BpYywgc3ViamVjdCwgcGFnZXMsIGFkZGl0aW9uYWxJbmZvLCBsYW5nKTtcclxuICAgICAgY29udGVudCA9IEpTT04uc3RyaW5naWZ5KHNsaWRlcywgbnVsbCwgMik7XHJcbiAgICAgIHBkZkJ1ZmZlciA9IGF3YWl0IGdlbmVyYXRlUHJlc2VudGF0aW9uUGRmKHNsaWRlcywgdG9waWMsIHN1YmplY3QpO1xyXG4gICAgfVxyXG5cclxuICAgIGNvbnN0IHNhdmVkID0gYXdhaXQgc2F2ZUdlbmVyYXRpb24oe1xyXG4gICAgICB0eXBlLFxyXG4gICAgICB0b3BpYyxcclxuICAgICAgc3ViamVjdCxcclxuICAgICAgcGFnZXM6IHBhcnNlSW50KHBhZ2VzKSxcclxuICAgICAgYWRkaXRpb25hbEluZm8sXHJcbiAgICAgIGNvbnRlbnQsXHJcbiAgICAgIHBkZkJ1ZmZlcixcclxuICAgIH0pO1xyXG5cclxuICAgIGNvbnNvbGUubG9nKGDinIUgR2VuZXJhdGVkIGFuZCBzYXZlZCB3aXRoIElEOiAke3NhdmVkLmlkfWApO1xyXG5cclxuICAgIC8vIENvbnZlcnQgQnVmZmVyIHRvIFVpbnQ4QXJyYXkgZm9yIE5leHRSZXNwb25zZSBjb21wYXRpYmlsaXR5XHJcbiAgICBjb25zdCBwZGZEYXRhID0gbmV3IFVpbnQ4QXJyYXkocGRmQnVmZmVyKTtcclxuXHJcbiAgICByZXR1cm4gbmV3IE5leHRSZXNwb25zZShwZGZEYXRhLCB7XHJcbiAgICAgIGhlYWRlcnM6IHtcclxuICAgICAgICAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL3BkZicsXHJcbiAgICAgICAgJ0NvbnRlbnQtRGlzcG9zaXRpb24nOiBgYXR0YWNobWVudDsgZmlsZW5hbWU9XCIke3R5cGV9XyR7RGF0ZS5ub3coKX0ucGRmXCJgLFxyXG4gICAgICAgICdYLUdlbmVyYXRpb24tSWQnOiBzYXZlZC5pZC50b1N0cmluZygpLFxyXG4gICAgICB9LFxyXG4gICAgfSk7XHJcbiAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgIGNvbnNvbGUuZXJyb3IoJ+KdjCBHZW5lcmF0aW9uIGVycm9yOicsIGVycm9yKTtcclxuICAgIHJldHVybiBOZXh0UmVzcG9uc2UuanNvbihcclxuICAgICAgeyBlcnJvcjogJ9Ce0YjQuNCx0LrQsCDQs9C10L3QtdGA0LDRhtC40LgnLCBtZXNzYWdlOiAoZXJyb3IgYXMgRXJyb3IpLm1lc3NhZ2UgfSxcclxuICAgICAgeyBzdGF0dXM6IDUwMCB9XHJcbiAgICApO1xyXG4gIH1cclxufVxyXG4iXSwibmFtZXMiOlsiTmV4dFJlc3BvbnNlIiwiZ2VuZXJhdGVTUlMiLCJnZW5lcmF0ZVByZXNlbnRhdGlvbiIsImdlbmVyYXRlU1JTUGRmIiwiZ2VuZXJhdGVQcmVzZW50YXRpb25QZGYiLCJzYXZlR2VuZXJhdGlvbiIsIlBPU1QiLCJyZXF1ZXN0IiwiYm9keSIsImpzb24iLCJ0eXBlIiwidG9waWMiLCJzdWJqZWN0IiwicGFnZXMiLCJhZGRpdGlvbmFsSW5mbyIsImxhbmd1YWdlIiwiZXJyb3IiLCJzdGF0dXMiLCJpbmNsdWRlcyIsImNvbnNvbGUiLCJsb2ciLCJjb250ZW50IiwicGRmQnVmZmVyIiwibGFuZyIsInNsaWRlcyIsIkpTT04iLCJzdHJpbmdpZnkiLCJzYXZlZCIsInBhcnNlSW50IiwiaWQiLCJwZGZEYXRhIiwiVWludDhBcnJheSIsImhlYWRlcnMiLCJEYXRlIiwibm93IiwidG9TdHJpbmciLCJtZXNzYWdlIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(rsc)/./src/app/api/generate/route.ts\n");

/***/ }),

/***/ "(rsc)/./src/lib/ai.ts":
/*!***********************!*\
  !*** ./src/lib/ai.ts ***!
  \***********************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   generatePresentation: () => (/* binding */ generatePresentation),\n/* harmony export */   generateSRS: () => (/* binding */ generateSRS)\n/* harmony export */ });\n/* harmony import */ var _google_generative_ai__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @google/generative-ai */ \"(rsc)/./node_modules/@google/generative-ai/dist/index.mjs\");\n\nconst genAI = new _google_generative_ai__WEBPACK_IMPORTED_MODULE_0__.GoogleGenerativeAI(process.env.GEMINI_API_KEY || \"\");\nconst model = genAI.getGenerativeModel({\n    model: \"gemini-3-flash-preview\",\n    generationConfig: {\n        temperature: 0.7,\n        maxOutputTokens: 8192\n    }\n});\nconst languageInstructions = {\n    ru: \"ÐŸÐ¸ÑˆÐ¸ Ð½Ð° Ñ€ÑƒÑÑÐºÐ¾Ð¼ ÑÐ·Ñ‹ÐºÐµ. Ð˜ÑÐ¿Ð¾Ð»ÑŒÐ·ÑƒÐ¹ Ñ„Ð¾Ñ€Ð¼Ð°Ð»ÑŒÐ½Ñ‹Ð¹ Ð°ÐºÐ°Ð´ÐµÐ¼Ð¸Ñ‡ÐµÑÐºÐ¸Ð¹ ÑÑ‚Ð¸Ð»ÑŒ.\",\n    tg: \"Ð‘Ð¾ Ð·Ð°Ð±Ð¾Ð½Ð¸ Ñ‚Ð¾Ò·Ð¸ÐºÓ£ Ð½Ð°Ð²Ð¸ÑÐµÐ´. Ð£ÑÐ»ÑƒÐ±Ð¸ Ñ€Ð°ÑÐ¼Ð¸Ð¸ Ð°ÐºÐ°Ð´ÐµÐ¼Ð¸ÐºÓ£ Ð¸ÑÑ‚Ð¸Ñ„Ð¾Ð´Ð° Ð±Ð°Ñ€ÐµÐ´.\",\n    en: \"Write in English. Use formal academic style.\"\n};\nconst structureLabels = {\n    ru: {\n        title: \"Ð¢Ð˜Ð¢Ð£Ð›Ð¬ÐÐ«Ð™ Ð›Ð˜Ð¡Ð¢\",\n        toc: \"ÐžÐ“Ð›ÐÐ’Ð›Ð•ÐÐ˜Ð•\",\n        intro: \"Ð’Ð’Ð•Ð”Ð•ÐÐ˜Ð•\",\n        main: \"ÐžÐ¡ÐÐžÐ’ÐÐÐ¯ Ð§ÐÐ¡Ð¢Ð¬\",\n        conclusion: \"Ð—ÐÐšÐ›Ð®Ð§Ð•ÐÐ˜Ð•\",\n        refs: \"Ð¡ÐŸÐ˜Ð¡ÐžÐš Ð›Ð˜Ð¢Ð•Ð ÐÐ¢Ð£Ð Ð«\",\n        chapter: \"Ð“Ð›ÐÐ’Ð\"\n    },\n    tg: {\n        title: \"Ð¡ÐÒ²Ð˜Ð¤ÐÐ˜ Ð¡ÐÐ Ð›ÐÐ’Ò²Ð\",\n        toc: \"ÐœÐ£ÐÐ”ÐÐ Ð˜Ò¶Ð\",\n        intro: \"ÐœÐ£ÒšÐÐ”Ð”Ð˜ÐœÐ\",\n        main: \"ÒšÐ˜Ð¡ÐœÐ˜ ÐÐ¡ÐžÐ¡Ó¢\",\n        conclusion: \"Ð¥Ð£Ð›ÐžÐ¡Ð\",\n        refs: \"Ð Ó®Ð™Ð¥ÐÐ¢Ð˜ ÐÐ”ÐÐ‘Ð˜ÐÐ¢\",\n        chapter: \"Ð‘ÐžÐ‘Ð˜\"\n    },\n    en: {\n        title: \"TITLE PAGE\",\n        toc: \"TABLE OF CONTENTS\",\n        intro: \"INTRODUCTION\",\n        main: \"MAIN BODY\",\n        conclusion: \"CONCLUSION\",\n        refs: \"REFERENCES\",\n        chapter: \"CHAPTER\"\n    }\n};\nasync function generateSRS(topic, subject, pages, additionalInfo, language = \"ru\") {\n    const langInstr = languageInstructions[language];\n    const labels = structureLabels[language];\n    const prompt = `You are an academic assistant for students.\r\n${langInstr}\r\nGenerate high-quality, structured content.\r\n\r\nCreate an academic paper on the topic: \"${topic}\"\r\nSubject: ${subject}\r\nLength: approximately ${pages} pages\r\n${additionalInfo ? `Additional requirements: ${additionalInfo}` : \"\"}\r\n\r\nStructure:\r\n1. ${labels.title} (topic and subject name only)\r\n2. ${labels.toc}\r\n3. ${labels.intro} (relevance, goals, objectives)\r\n4. ${labels.main} (${Math.max(2, pages - 2)} chapters with subsections)\r\n5. ${labels.conclusion} (summary)\r\n6. ${labels.refs} (5-7 sources)\r\n\r\nWrite in detail with facts and examples. Start each chapter with a new paragraph.\r\nOutput format: plain text with headers (no markdown).`;\n    const result = await model.generateContent(prompt);\n    const response = await result.response;\n    return response.text();\n}\nasync function generatePresentation(topic, subject, slides, additionalInfo, language = \"ru\") {\n    const langInstr = languageInstructions[language];\n    const prompt = `You are an academic assistant for students.\r\n${langInstr}\r\n\r\nCreate a presentation on the topic: \"${topic}\"\r\nSubject: ${subject}\r\nNumber of slides: ${slides}\r\n${additionalInfo ? `Additional requirements: ${additionalInfo}` : \"\"}\r\n\r\nIMPORTANT: Response must be ONLY a valid JSON array with no additional text.\r\nFormat for each slide:\r\n{\r\n  \"slideNumber\": 1,\r\n  \"title\": \"Slide title\",\r\n  \"bullets\": [\"Point 1\", \"Point 2\", \"Point 3\"]\r\n}\r\n\r\nSlides should include:\r\n1. Title slide (topic and subject)\r\n2. Contents/Plan\r\n3-${slides - 1}. Main information slides\r\n${slides}. Conclusion/Summary\r\n\r\nReturn ONLY a JSON array, starting with [ and ending with ]`;\n    const result = await model.generateContent(prompt);\n    const response = await result.response;\n    let content = response.text().trim();\n    const jsonMatch = content.match(/\\[[\\s\\S]*\\]/);\n    if (jsonMatch) {\n        content = jsonMatch[0];\n    }\n    return JSON.parse(content);\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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YnBhY2s6Ly9zdHVkZW50LWFpLW5leHRqcy8uL3NyYy9saWIvYWkudHM/ZGEyOSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBHb29nbGVHZW5lcmF0aXZlQUkgfSBmcm9tICdAZ29vZ2xlL2dlbmVyYXRpdmUtYWknO1xyXG5pbXBvcnQgdHlwZSB7IExhbmd1YWdlIH0gZnJvbSAnLi9pMThuJztcclxuXHJcbmNvbnN0IGdlbkFJID0gbmV3IEdvb2dsZUdlbmVyYXRpdmVBSShwcm9jZXNzLmVudi5HRU1JTklfQVBJX0tFWSB8fCAnJyk7XHJcblxyXG5jb25zdCBtb2RlbCA9IGdlbkFJLmdldEdlbmVyYXRpdmVNb2RlbCh7XHJcbiAgbW9kZWw6ICdnZW1pbmktMy1mbGFzaC1wcmV2aWV3JyxcclxuICBnZW5lcmF0aW9uQ29uZmlnOiB7XHJcbiAgICB0ZW1wZXJhdHVyZTogMC43LFxyXG4gICAgbWF4T3V0cHV0VG9rZW5zOiA4MTkyLFxyXG4gIH0sXHJcbn0pO1xyXG5cclxuY29uc3QgbGFuZ3VhZ2VJbnN0cnVjdGlvbnM6IFJlY29yZDxMYW5ndWFnZSwgc3RyaW5nPiA9IHtcclxuICBydTogJ9Cf0LjRiNC4INC90LAg0YDRg9GB0YHQutC+0Lwg0Y/Qt9GL0LrQtS4g0JjRgdC/0L7Qu9GM0LfRg9C5INGE0L7RgNC80LDQu9GM0L3Ri9C5INCw0LrQsNC00LXQvNC40YfQtdGB0LrQuNC5INGB0YLQuNC70YwuJyxcclxuICB0ZzogJ9CR0L4g0LfQsNCx0L7QvdC4INGC0L7St9C40LrToyDQvdCw0LLQuNGB0LXQtC4g0KPRgdC70YPQsdC4INGA0LDRgdC80LjQuCDQsNC60LDQtNC10LzQuNC606Mg0LjRgdGC0LjRhNC+0LTQsCDQsdCw0YDQtdC0LicsXHJcbiAgZW46ICdXcml0ZSBpbiBFbmdsaXNoLiBVc2UgZm9ybWFsIGFjYWRlbWljIHN0eWxlLicsXHJcbn07XHJcblxyXG5jb25zdCBzdHJ1Y3R1cmVMYWJlbHM6IFJlY29yZDxMYW5ndWFnZSwgeyB0aXRsZTogc3RyaW5nOyB0b2M6IHN0cmluZzsgaW50cm86IHN0cmluZzsgbWFpbjogc3RyaW5nOyBjb25jbHVzaW9uOiBzdHJpbmc7IHJlZnM6IHN0cmluZzsgY2hhcHRlcjogc3RyaW5nIH0+ID0ge1xyXG4gIHJ1OiB7IHRpdGxlOiAn0KLQmNCi0KPQm9Cs0J3Qq9CZINCb0JjQodCiJywgdG9jOiAn0J7Qk9Cb0JDQktCb0JXQndCY0JUnLCBpbnRybzogJ9CS0JLQldCU0JXQndCY0JUnLCBtYWluOiAn0J7QodCd0J7QktCd0JDQryDQp9CQ0KHQotCsJywgY29uY2x1c2lvbjogJ9CX0JDQmtCb0K7Qp9CV0J3QmNCVJywgcmVmczogJ9Ch0J/QmNCh0J7QmiDQm9CY0KLQldCg0JDQotCj0KDQqycsIGNoYXB0ZXI6ICfQk9Cb0JDQktCQJyB9LFxyXG4gIHRnOiB7IHRpdGxlOiAn0KHQkNKy0JjQpNCQ0Jgg0KHQkNCg0JvQkNCS0rLQkCcsIHRvYzogJ9Cc0KPQndCU0JDQoNCY0rbQkCcsIGludHJvOiAn0JzQo9Ka0JDQlNCU0JjQnNCQJywgbWFpbjogJ9Ka0JjQodCc0Jgg0JDQodCe0KHToicsIGNvbmNsdXNpb246ICfQpdCj0JvQntCh0JAnLCByZWZzOiAn0KDTrtCZ0KXQkNCi0Jgg0JDQlNCQ0JHQmNCB0KInLCBjaGFwdGVyOiAn0JHQntCR0JgnIH0sXHJcbiAgZW46IHsgdGl0bGU6ICdUSVRMRSBQQUdFJywgdG9jOiAnVEFCTEUgT0YgQ09OVEVOVFMnLCBpbnRybzogJ0lOVFJPRFVDVElPTicsIG1haW46ICdNQUlOIEJPRFknLCBjb25jbHVzaW9uOiAnQ09OQ0xVU0lPTicsIHJlZnM6ICdSRUZFUkVOQ0VTJywgY2hhcHRlcjogJ0NIQVBURVInIH0sXHJcbn07XHJcblxyXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gZ2VuZXJhdGVTUlMoXHJcbiAgdG9waWM6IHN0cmluZyxcclxuICBzdWJqZWN0OiBzdHJpbmcsXHJcbiAgcGFnZXM6IG51bWJlcixcclxuICBhZGRpdGlvbmFsSW5mbz86IHN0cmluZyxcclxuICBsYW5ndWFnZTogTGFuZ3VhZ2UgPSAncnUnXHJcbik6IFByb21pc2U8c3RyaW5nPiB7XHJcbiAgY29uc3QgbGFuZ0luc3RyID0gbGFuZ3VhZ2VJbnN0cnVjdGlvbnNbbGFuZ3VhZ2VdO1xyXG4gIGNvbnN0IGxhYmVscyA9IHN0cnVjdHVyZUxhYmVsc1tsYW5ndWFnZV07XHJcbiAgXHJcbiAgY29uc3QgcHJvbXB0ID0gYFlvdSBhcmUgYW4gYWNhZGVtaWMgYXNzaXN0YW50IGZvciBzdHVkZW50cy5cclxuJHtsYW5nSW5zdHJ9XHJcbkdlbmVyYXRlIGhpZ2gtcXVhbGl0eSwgc3RydWN0dXJlZCBjb250ZW50LlxyXG5cclxuQ3JlYXRlIGFuIGFjYWRlbWljIHBhcGVyIG9uIHRoZSB0b3BpYzogXCIke3RvcGljfVwiXHJcblN1YmplY3Q6ICR7c3ViamVjdH1cclxuTGVuZ3RoOiBhcHByb3hpbWF0ZWx5ICR7cGFnZXN9IHBhZ2VzXHJcbiR7YWRkaXRpb25hbEluZm8gPyBgQWRkaXRpb25hbCByZXF1aXJlbWVudHM6ICR7YWRkaXRpb25hbEluZm99YCA6ICcnfVxyXG5cclxuU3RydWN0dXJlOlxyXG4xLiAke2xhYmVscy50aXRsZX0gKHRvcGljIGFuZCBzdWJqZWN0IG5hbWUgb25seSlcclxuMi4gJHtsYWJlbHMudG9jfVxyXG4zLiAke2xhYmVscy5pbnRyb30gKHJlbGV2YW5jZSwgZ29hbHMsIG9iamVjdGl2ZXMpXHJcbjQuICR7bGFiZWxzLm1haW59ICgke01hdGgubWF4KDIsIHBhZ2VzIC0gMil9IGNoYXB0ZXJzIHdpdGggc3Vic2VjdGlvbnMpXHJcbjUuICR7bGFiZWxzLmNvbmNsdXNpb259IChzdW1tYXJ5KVxyXG42LiAke2xhYmVscy5yZWZzfSAoNS03IHNvdXJjZXMpXHJcblxyXG5Xcml0ZSBpbiBkZXRhaWwgd2l0aCBmYWN0cyBhbmQgZXhhbXBsZXMuIFN0YXJ0IGVhY2ggY2hhcHRlciB3aXRoIGEgbmV3IHBhcmFncmFwaC5cclxuT3V0cHV0IGZvcm1hdDogcGxhaW4gdGV4dCB3aXRoIGhlYWRlcnMgKG5vIG1hcmtkb3duKS5gO1xyXG5cclxuICBjb25zdCByZXN1bHQgPSBhd2FpdCBtb2RlbC5nZW5lcmF0ZUNvbnRlbnQocHJvbXB0KTtcclxuICBjb25zdCByZXNwb25zZSA9IGF3YWl0IHJlc3VsdC5yZXNwb25zZTtcclxuICByZXR1cm4gcmVzcG9uc2UudGV4dCgpO1xyXG59XHJcblxyXG5leHBvcnQgaW50ZXJmYWNlIFNsaWRlIHtcclxuICBzbGlkZU51bWJlcjogbnVtYmVyO1xyXG4gIHRpdGxlOiBzdHJpbmc7XHJcbiAgYnVsbGV0czogc3RyaW5nW107XHJcbn1cclxuXHJcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBnZW5lcmF0ZVByZXNlbnRhdGlvbihcclxuICB0b3BpYzogc3RyaW5nLFxyXG4gIHN1YmplY3Q6IHN0cmluZyxcclxuICBzbGlkZXM6IG51bWJlcixcclxuICBhZGRpdGlvbmFsSW5mbz86IHN0cmluZyxcclxuICBsYW5ndWFnZTogTGFuZ3VhZ2UgPSAncnUnXHJcbik6IFByb21pc2U8U2xpZGVbXT4ge1xyXG4gIGNvbnN0IGxhbmdJbnN0ciA9IGxhbmd1YWdlSW5zdHJ1Y3Rpb25zW2xhbmd1YWdlXTtcclxuXHJcbiAgY29uc3QgcHJvbXB0ID0gYFlvdSBhcmUgYW4gYWNhZGVtaWMgYXNzaXN0YW50IGZvciBzdHVkZW50cy5cclxuJHtsYW5nSW5zdHJ9XHJcblxyXG5DcmVhdGUgYSBwcmVzZW50YXRpb24gb24gdGhlIHRvcGljOiBcIiR7dG9waWN9XCJcclxuU3ViamVjdDogJHtzdWJqZWN0fVxyXG5OdW1iZXIgb2Ygc2xpZGVzOiAke3NsaWRlc31cclxuJHthZGRpdGlvbmFsSW5mbyA/IGBBZGRpdGlvbmFsIHJlcXVpcmVtZW50czogJHthZGRpdGlvbmFsSW5mb31gIDogJyd9XHJcblxyXG5JTVBPUlRBTlQ6IFJlc3BvbnNlIG11c3QgYmUgT05MWSBhIHZhbGlkIEpTT04gYXJyYXkgd2l0aCBubyBhZGRpdGlvbmFsIHRleHQuXHJcbkZvcm1hdCBmb3IgZWFjaCBzbGlkZTpcclxue1xyXG4gIFwic2xpZGVOdW1iZXJcIjogMSxcclxuICBcInRpdGxlXCI6IFwiU2xpZGUgdGl0bGVcIixcclxuICBcImJ1bGxldHNcIjogW1wiUG9pbnQgMVwiLCBcIlBvaW50IDJcIiwgXCJQb2ludCAzXCJdXHJcbn1cclxuXHJcblNsaWRlcyBzaG91bGQgaW5jbHVkZTpcclxuMS4gVGl0bGUgc2xpZGUgKHRvcGljIGFuZCBzdWJqZWN0KVxyXG4yLiBDb250ZW50cy9QbGFuXHJcbjMtJHtzbGlkZXMgLSAxfS4gTWFpbiBpbmZvcm1hdGlvbiBzbGlkZXNcclxuJHtzbGlkZXN9LiBDb25jbHVzaW9uL1N1bW1hcnlcclxuXHJcblJldHVybiBPTkxZIGEgSlNPTiBhcnJheSwgc3RhcnRpbmcgd2l0aCBbIGFuZCBlbmRpbmcgd2l0aCBdYDtcclxuXHJcbiAgY29uc3QgcmVzdWx0ID0gYXdhaXQgbW9kZWwuZ2VuZXJhdGVDb250ZW50KHByb21wdCk7XHJcbiAgY29uc3QgcmVzcG9uc2UgPSBhd2FpdCByZXN1bHQucmVzcG9uc2U7XHJcbiAgbGV0IGNvbnRlbnQgPSByZXNwb25zZS50ZXh0KCkudHJpbSgpO1xyXG5cclxuICBjb25zdCBqc29uTWF0Y2ggPSBjb250ZW50Lm1hdGNoKC9cXFtbXFxzXFxTXSpcXF0vKTtcclxuICBpZiAoanNvbk1hdGNoKSB7XHJcbiAgICBjb250ZW50ID0ganNvbk1hdGNoWzBdO1xyXG4gIH1cclxuXHJcbiAgcmV0dXJuIEpTT04ucGFyc2UoY29udGVudCkgYXMgU2xpZGVbXTtcclxufVxyXG4iXSwibmFtZXMiOlsiR29vZ2xlR2VuZXJhdGl2ZUFJIiwiZ2VuQUkiLCJwcm9jZXNzIiwiZW52IiwiR0VNSU5JX0FQSV9LRVkiLCJtb2RlbCIsImdldEdlbmVyYXRpdmVNb2RlbCIsImdlbmVyYXRpb25Db25maWciLCJ0ZW1wZXJhdHVyZSIsIm1heE91dHB1dFRva2VucyIsImxhbmd1YWdlSW5zdHJ1Y3Rpb25zIiwicnUiLCJ0ZyIsImVuIiwic3RydWN0dXJlTGFiZWxzIiwidGl0bGUiLCJ0b2MiLCJpbnRybyIsIm1haW4iLCJjb25jbHVzaW9uIiwicmVmcyIsImNoYXB0ZXIiLCJnZW5lcmF0ZVNSUyIsInRvcGljIiwic3ViamVjdCIsInBhZ2VzIiwiYWRkaXRpb25hbEluZm8iLCJsYW5ndWFnZSIsImxhbmdJbnN0ciIsImxhYmVscyIsInByb21wdCIsIk1hdGgiLCJtYXgiLCJyZXN1bHQiLCJnZW5lcmF0ZUNvbnRlbnQiLCJyZXNwb25zZSIsInRleHQiLCJnZW5lcmF0ZVByZXNlbnRhdGlvbiIsInNsaWRlcyIsImNvbnRlbnQiLCJ0cmltIiwianNvbk1hdGNoIiwibWF0Y2giLCJKU09OIiwicGFyc2UiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./src/lib/ai.ts\n");

/***/ }),

/***/ "(rsc)/./src/lib/db.ts":
/*!***********************!*\
  !*** ./src/lib/db.ts ***!
  \***********************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   deleteById: () => (/* binding */ deleteById),\n/* harmony export */   getById: () => (/* binding */ getById),\n/* harmony export */   getHistory: () => (/* binding */ getHistory),\n/* harmony export */   initDB: () => (/* binding */ initDB),\n/* harmony export */   saveGeneration: () => (/* binding */ saveGeneration)\n/* harmony export */ });\n/* harmony import */ var _vercel_postgres__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @vercel/postgres */ \"(rsc)/./node_modules/@vercel/postgres/dist/index-node.js\");\n\nasync function initDB() {\n    await (0,_vercel_postgres__WEBPACK_IMPORTED_MODULE_0__.sql)`\r\n    CREATE TABLE IF NOT EXISTS generations (\r\n      id SERIAL PRIMARY KEY,\r\n      type TEXT NOT NULL,\r\n      topic TEXT NOT NULL,\r\n      subject TEXT NOT NULL,\r\n      pages INTEGER NOT NULL,\r\n      additional_info TEXT,\r\n      content TEXT NOT NULL,\r\n      pdf_data BYTEA,\r\n      created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP\r\n    )\r\n  `;\n}\nasync function saveGeneration(data) {\n    // Ensure table exists\n    await initDB();\n    const pdfBase64 = data.pdfBuffer.toString(\"base64\");\n    const result = await (0,_vercel_postgres__WEBPACK_IMPORTED_MODULE_0__.sql)`\r\n    INSERT INTO generations (type, topic, subject, pages, additional_info, content, pdf_data)\r\n    VALUES (\r\n      ${data.type},\r\n      ${data.topic},\r\n      ${data.subject},\r\n      ${data.pages},\r\n      ${data.additionalInfo || null},\r\n      ${data.content},\r\n      decode(${pdfBase64}, 'base64')\r\n    )\r\n    RETURNING id\r\n  `;\n    return {\n        id: result.rows[0].id\n    };\n}\nasync function getHistory() {\n    await initDB();\n    const result = await (0,_vercel_postgres__WEBPACK_IMPORTED_MODULE_0__.sql)`\r\n    SELECT id, type, topic, subject, pages, additional_info, created_at\r\n    FROM generations \r\n    ORDER BY created_at DESC \r\n    LIMIT 50\r\n  `;\n    return result.rows;\n}\nasync function getById(id) {\n    await initDB();\n    const result = await (0,_vercel_postgres__WEBPACK_IMPORTED_MODULE_0__.sql)`\r\n    SELECT id, type, topic, subject, pages, additional_info, content, \r\n           encode(pdf_data, 'base64') as pdf_data, created_at\r\n    FROM generations \r\n    WHERE id = ${id}\r\n  `;\n    if (result.rows.length === 0) return null;\n    const row = result.rows[0];\n    return {\n        ...row,\n        pdf_data: row.pdf_data ? Buffer.from(row.pdf_data, \"base64\") : null\n    };\n}\nasync function deleteById(id) {\n    await initDB();\n    const result = await (0,_vercel_postgres__WEBPACK_IMPORTED_MODULE_0__.sql)`\r\n    DELETE FROM generations \r\n    WHERE id = ${id}\r\n  `;\n    return (result.rowCount ?? 0) > 0;\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9zcmMvbGliL2RiLnRzIiwibWFwcGluZ3MiOiI7Ozs7Ozs7OztBQUF1QztBQWNoQyxlQUFlQztJQUNwQixNQUFNRCxxREFBRyxDQUFDOzs7Ozs7Ozs7Ozs7RUFZVixDQUFDO0FBQ0g7QUFFTyxlQUFlRSxlQUFlQyxJQVFwQztJQUNDLHNCQUFzQjtJQUN0QixNQUFNRjtJQUVOLE1BQU1HLFlBQVlELEtBQUtFLFNBQVMsQ0FBQ0MsUUFBUSxDQUFDO0lBRTFDLE1BQU1DLFNBQVMsTUFBTVAscURBQUcsQ0FBQzs7O01BR3JCLEVBQUVHLEtBQUtLLElBQUksQ0FBQztNQUNaLEVBQUVMLEtBQUtNLEtBQUssQ0FBQztNQUNiLEVBQUVOLEtBQUtPLE9BQU8sQ0FBQztNQUNmLEVBQUVQLEtBQUtRLEtBQUssQ0FBQztNQUNiLEVBQUVSLEtBQUtTLGNBQWMsSUFBSSxLQUFLO01BQzlCLEVBQUVULEtBQUtVLE9BQU8sQ0FBQzthQUNSLEVBQUVULFVBQVU7OztFQUd2QixDQUFDO0lBRUQsT0FBTztRQUFFVSxJQUFJUCxPQUFPUSxJQUFJLENBQUMsRUFBRSxDQUFDRCxFQUFFO0lBQUM7QUFDakM7QUFFTyxlQUFlRTtJQUNwQixNQUFNZjtJQUVOLE1BQU1NLFNBQVMsTUFBTVAscURBQUcsQ0FBQzs7Ozs7RUFLekIsQ0FBQztJQUVELE9BQU9PLE9BQU9RLElBQUk7QUFDcEI7QUFFTyxlQUFlRSxRQUFRSCxFQUFVO0lBQ3RDLE1BQU1iO0lBRU4sTUFBTU0sU0FBUyxNQUFNUCxxREFBRyxDQUFDOzs7O2VBSVosRUFBRWMsR0FBRztFQUNsQixDQUFDO0lBRUQsSUFBSVAsT0FBT1EsSUFBSSxDQUFDRyxNQUFNLEtBQUssR0FBRyxPQUFPO0lBRXJDLE1BQU1DLE1BQU1aLE9BQU9RLElBQUksQ0FBQyxFQUFFO0lBQzFCLE9BQU87UUFDTCxHQUFHSSxHQUFHO1FBQ05DLFVBQVVELElBQUlDLFFBQVEsR0FBR0MsT0FBT0MsSUFBSSxDQUFDSCxJQUFJQyxRQUFRLEVBQUUsWUFBWTtJQUNqRTtBQUNGO0FBRU8sZUFBZUcsV0FBV1QsRUFBVTtJQUN6QyxNQUFNYjtJQUVOLE1BQU1NLFNBQVMsTUFBTVAscURBQUcsQ0FBQzs7ZUFFWixFQUFFYyxHQUFHO0VBQ2xCLENBQUM7SUFFRCxPQUFPLENBQUNQLE9BQU9pQixRQUFRLElBQUksS0FBSztBQUNsQyIsInNvdXJjZXMiOlsid2VicGFjazovL3N0dWRlbnQtYWktbmV4dGpzLy4vc3JjL2xpYi9kYi50cz85ZTRmIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IHNxbCB9IGZyb20gJ0B2ZXJjZWwvcG9zdGdyZXMnO1xyXG5cclxuZXhwb3J0IGludGVyZmFjZSBHZW5lcmF0aW9uIHtcclxuICBpZDogbnVtYmVyO1xyXG4gIHR5cGU6IHN0cmluZztcclxuICB0b3BpYzogc3RyaW5nO1xyXG4gIHN1YmplY3Q6IHN0cmluZztcclxuICBwYWdlczogbnVtYmVyO1xyXG4gIGFkZGl0aW9uYWxfaW5mbzogc3RyaW5nIHwgbnVsbDtcclxuICBjb250ZW50OiBzdHJpbmc7XHJcbiAgcGRmX2RhdGE6IEJ1ZmZlciB8IG51bGw7XHJcbiAgY3JlYXRlZF9hdDogc3RyaW5nO1xyXG59XHJcblxyXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gaW5pdERCKCk6IFByb21pc2U8dm9pZD4ge1xyXG4gIGF3YWl0IHNxbGBcclxuICAgIENSRUFURSBUQUJMRSBJRiBOT1QgRVhJU1RTIGdlbmVyYXRpb25zIChcclxuICAgICAgaWQgU0VSSUFMIFBSSU1BUlkgS0VZLFxyXG4gICAgICB0eXBlIFRFWFQgTk9UIE5VTEwsXHJcbiAgICAgIHRvcGljIFRFWFQgTk9UIE5VTEwsXHJcbiAgICAgIHN1YmplY3QgVEVYVCBOT1QgTlVMTCxcclxuICAgICAgcGFnZXMgSU5URUdFUiBOT1QgTlVMTCxcclxuICAgICAgYWRkaXRpb25hbF9pbmZvIFRFWFQsXHJcbiAgICAgIGNvbnRlbnQgVEVYVCBOT1QgTlVMTCxcclxuICAgICAgcGRmX2RhdGEgQllURUEsXHJcbiAgICAgIGNyZWF0ZWRfYXQgVElNRVNUQU1QIERFRkFVTFQgQ1VSUkVOVF9USU1FU1RBTVBcclxuICAgIClcclxuICBgO1xyXG59XHJcblxyXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gc2F2ZUdlbmVyYXRpb24oZGF0YToge1xyXG4gIHR5cGU6IHN0cmluZztcclxuICB0b3BpYzogc3RyaW5nO1xyXG4gIHN1YmplY3Q6IHN0cmluZztcclxuICBwYWdlczogbnVtYmVyO1xyXG4gIGFkZGl0aW9uYWxJbmZvPzogc3RyaW5nO1xyXG4gIGNvbnRlbnQ6IHN0cmluZztcclxuICBwZGZCdWZmZXI6IEJ1ZmZlcjtcclxufSk6IFByb21pc2U8eyBpZDogbnVtYmVyIH0+IHtcclxuICAvLyBFbnN1cmUgdGFibGUgZXhpc3RzXHJcbiAgYXdhaXQgaW5pdERCKCk7XHJcbiAgXHJcbiAgY29uc3QgcGRmQmFzZTY0ID0gZGF0YS5wZGZCdWZmZXIudG9TdHJpbmcoJ2Jhc2U2NCcpO1xyXG4gIFxyXG4gIGNvbnN0IHJlc3VsdCA9IGF3YWl0IHNxbGBcclxuICAgIElOU0VSVCBJTlRPIGdlbmVyYXRpb25zICh0eXBlLCB0b3BpYywgc3ViamVjdCwgcGFnZXMsIGFkZGl0aW9uYWxfaW5mbywgY29udGVudCwgcGRmX2RhdGEpXHJcbiAgICBWQUxVRVMgKFxyXG4gICAgICAke2RhdGEudHlwZX0sXHJcbiAgICAgICR7ZGF0YS50b3BpY30sXHJcbiAgICAgICR7ZGF0YS5zdWJqZWN0fSxcclxuICAgICAgJHtkYXRhLnBhZ2VzfSxcclxuICAgICAgJHtkYXRhLmFkZGl0aW9uYWxJbmZvIHx8IG51bGx9LFxyXG4gICAgICAke2RhdGEuY29udGVudH0sXHJcbiAgICAgIGRlY29kZSgke3BkZkJhc2U2NH0sICdiYXNlNjQnKVxyXG4gICAgKVxyXG4gICAgUkVUVVJOSU5HIGlkXHJcbiAgYDtcclxuICBcclxuICByZXR1cm4geyBpZDogcmVzdWx0LnJvd3NbMF0uaWQgfTtcclxufVxyXG5cclxuZXhwb3J0IGFzeW5jIGZ1bmN0aW9uIGdldEhpc3RvcnkoKTogUHJvbWlzZTxPbWl0PEdlbmVyYXRpb24sICdjb250ZW50JyB8ICdwZGZfZGF0YSc+W10+IHtcclxuICBhd2FpdCBpbml0REIoKTtcclxuICBcclxuICBjb25zdCByZXN1bHQgPSBhd2FpdCBzcWxgXHJcbiAgICBTRUxFQ1QgaWQsIHR5cGUsIHRvcGljLCBzdWJqZWN0LCBwYWdlcywgYWRkaXRpb25hbF9pbmZvLCBjcmVhdGVkX2F0XHJcbiAgICBGUk9NIGdlbmVyYXRpb25zIFxyXG4gICAgT1JERVIgQlkgY3JlYXRlZF9hdCBERVNDIFxyXG4gICAgTElNSVQgNTBcclxuICBgO1xyXG4gIFxyXG4gIHJldHVybiByZXN1bHQucm93cyBhcyBPbWl0PEdlbmVyYXRpb24sICdjb250ZW50JyB8ICdwZGZfZGF0YSc+W107XHJcbn1cclxuXHJcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBnZXRCeUlkKGlkOiBudW1iZXIpOiBQcm9taXNlPEdlbmVyYXRpb24gfCBudWxsPiB7XHJcbiAgYXdhaXQgaW5pdERCKCk7XHJcbiAgXHJcbiAgY29uc3QgcmVzdWx0ID0gYXdhaXQgc3FsYFxyXG4gICAgU0VMRUNUIGlkLCB0eXBlLCB0b3BpYywgc3ViamVjdCwgcGFnZXMsIGFkZGl0aW9uYWxfaW5mbywgY29udGVudCwgXHJcbiAgICAgICAgICAgZW5jb2RlKHBkZl9kYXRhLCAnYmFzZTY0JykgYXMgcGRmX2RhdGEsIGNyZWF0ZWRfYXRcclxuICAgIEZST00gZ2VuZXJhdGlvbnMgXHJcbiAgICBXSEVSRSBpZCA9ICR7aWR9XHJcbiAgYDtcclxuICBcclxuICBpZiAocmVzdWx0LnJvd3MubGVuZ3RoID09PSAwKSByZXR1cm4gbnVsbDtcclxuICBcclxuICBjb25zdCByb3cgPSByZXN1bHQucm93c1swXTtcclxuICByZXR1cm4ge1xyXG4gICAgLi4ucm93LFxyXG4gICAgcGRmX2RhdGE6IHJvdy5wZGZfZGF0YSA/IEJ1ZmZlci5mcm9tKHJvdy5wZGZfZGF0YSwgJ2Jhc2U2NCcpIDogbnVsbCxcclxuICB9IGFzIEdlbmVyYXRpb247XHJcbn1cclxuXHJcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBkZWxldGVCeUlkKGlkOiBudW1iZXIpOiBQcm9taXNlPGJvb2xlYW4+IHtcclxuICBhd2FpdCBpbml0REIoKTtcclxuICBcclxuICBjb25zdCByZXN1bHQgPSBhd2FpdCBzcWxgXHJcbiAgICBERUxFVEUgRlJPTSBnZW5lcmF0aW9ucyBcclxuICAgIFdIRVJFIGlkID0gJHtpZH1cclxuICBgO1xyXG4gIFxyXG4gIHJldHVybiAocmVzdWx0LnJvd0NvdW50ID8/IDApID4gMDtcclxufVxyXG4iXSwibmFtZXMiOlsic3FsIiwiaW5pdERCIiwic2F2ZUdlbmVyYXRpb24iLCJkYXRhIiwicGRmQmFzZTY0IiwicGRmQnVmZmVyIiwidG9TdHJpbmciLCJyZXN1bHQiLCJ0eXBlIiwidG9waWMiLCJzdWJqZWN0IiwicGFnZXMiLCJhZGRpdGlvbmFsSW5mbyIsImNvbnRlbnQiLCJpZCIsInJvd3MiLCJnZXRIaXN0b3J5IiwiZ2V0QnlJZCIsImxlbmd0aCIsInJvdyIsInBkZl9kYXRhIiwiQnVmZmVyIiwiZnJvbSIsImRlbGV0ZUJ5SWQiLCJyb3dDb3VudCJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(rsc)/./src/lib/db.ts\n");

/***/ }),

/***/ "(rsc)/./src/lib/pdf.ts":
/*!************************!*\
  !*** ./src/lib/pdf.ts ***!
  \************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   generatePresentationPdf: () => (/* binding */ generatePresentationPdf),\n/* harmony export */   generateSRSPdf: () => (/* binding */ generateSRSPdf),\n/* harmony export */   hasCyrillicFont: () => (/* binding */ hasCyrillicFont)\n/* harmony export */ });\n/* harmony import */ var pdfkit__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! pdfkit */ \"pdfkit\");\n/* harmony import */ var pdfkit__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(pdfkit__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var path__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! path */ \"path\");\n/* harmony import */ var path__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(path__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var fs__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! fs */ \"fs\");\n/* harmony import */ var fs__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(fs__WEBPACK_IMPORTED_MODULE_2__);\n\n\n\nconst FONT_PATH = path__WEBPACK_IMPORTED_MODULE_1___default().join(process.cwd(), \"public\", \"fonts\", \"Roboto-Regular.ttf\");\nfunction hasCyrillicFont() {\n    return fs__WEBPACK_IMPORTED_MODULE_2___default().existsSync(FONT_PATH);\n}\nfunction generateSRSPdf(content, topic, subject) {\n    return new Promise((resolve, reject)=>{\n        const chunks = [];\n        const doc = new (pdfkit__WEBPACK_IMPORTED_MODULE_0___default())({\n            size: \"A4\",\n            margins: {\n                top: 72,\n                bottom: 72,\n                left: 72,\n                right: 72\n            },\n            bufferPages: true\n        });\n        doc.on(\"data\", (chunk)=>chunks.push(chunk));\n        doc.on(\"end\", ()=>resolve(Buffer.concat(chunks)));\n        doc.on(\"error\", reject);\n        if (hasCyrillicFont()) {\n            doc.font(FONT_PATH);\n        }\n        // Title Page\n        doc.fontSize(24).text(topic, {\n            align: \"center\"\n        }).moveDown(2);\n        doc.fontSize(16).text(`ÐŸÑ€ÐµÐ´Ð¼ÐµÑ‚: ${subject}`, {\n            align: \"center\"\n        }).moveDown(4);\n        doc.fontSize(12).text(\"Ð¡Ð Ð¡ (Ð¡Ð°Ð¼Ð¾ÑÑ‚Ð¾ÑÑ‚ÐµÐ»ÑŒÐ½Ð°Ñ Ñ€Ð°Ð±Ð¾Ñ‚Ð° ÑÑ‚ÑƒÐ´ÐµÐ½Ñ‚Ð°)\", {\n            align: \"center\"\n        });\n        doc.addPage();\n        const lines = content.split(\"\\n\");\n        for (const line of lines){\n            const trimmedLine = line.trim();\n            if (!trimmedLine) {\n                doc.moveDown(0.5);\n                continue;\n            }\n            const isHeader = /^[Ð-Ð¯ÐÐ†Ð‡Ð„Ò\\s\\d.]+:?$/.test(trimmedLine) || /^\\d+\\.\\s+[Ð-Ð¯ÐÐ†Ð‡Ð„Ò]/.test(trimmedLine) || trimmedLine.startsWith(\"Ð“Ð›ÐÐ’Ð\") || trimmedLine.startsWith(\"Ð’Ð’Ð•Ð”Ð•ÐÐ˜Ð•\") || trimmedLine.startsWith(\"Ð—ÐÐšÐ›Ð®Ð§Ð•ÐÐ˜Ð•\") || trimmedLine.startsWith(\"ÐžÐ“Ð›ÐÐ’Ð›Ð•ÐÐ˜Ð•\") || trimmedLine.startsWith(\"Ð¡ÐŸÐ˜Ð¡ÐžÐš\");\n            if (isHeader) {\n                doc.moveDown(1).fontSize(14).text(trimmedLine, {\n                    align: \"left\"\n                }).moveDown(0.5);\n                doc.fontSize(12);\n            } else {\n                if (doc.y > 700) doc.addPage();\n                doc.text(trimmedLine, {\n                    align: \"justify\",\n                    lineGap: 4,\n                    paragraphGap: 8\n                });\n            }\n        }\n        // Page numbers\n        const pageCount = doc.bufferedPageRange().count;\n        for(let i = 0; i < pageCount; i++){\n            doc.switchToPage(i);\n            doc.fontSize(10).text(`${i + 1}`, 0, doc.page.height - 50, {\n                align: \"center\"\n            });\n        }\n        doc.end();\n    });\n}\nfunction generatePresentationPdf(slides, topic, subject) {\n    return new Promise((resolve, reject)=>{\n        const chunks = [];\n        const doc = new (pdfkit__WEBPACK_IMPORTED_MODULE_0___default())({\n            size: \"A4\",\n            layout: \"landscape\",\n            margins: {\n                top: 50,\n                bottom: 50,\n                left: 60,\n                right: 60\n            },\n            bufferPages: true\n        });\n        doc.on(\"data\", (chunk)=>chunks.push(chunk));\n        doc.on(\"end\", ()=>resolve(Buffer.concat(chunks)));\n        doc.on(\"error\", reject);\n        if (hasCyrillicFont()) {\n            doc.font(FONT_PATH);\n        }\n        const colors = {\n            primary: \"#1a365d\",\n            secondary: \"#2b6cb0\",\n            accent: \"#4299e1\",\n            text: \"#2d3748\",\n            bullet: \"#e53e3e\"\n        };\n        // Filter out empty or invalid slides\n        const validSlides = slides.filter((slide)=>slide && (slide.title || slide.bullets && slide.bullets.length > 0));\n        validSlides.forEach((slide, index)=>{\n            if (index > 0) doc.addPage();\n            const pageWidth = doc.page.width - 120;\n            const centerX = 60;\n            // Border\n            doc.rect(40, 30, doc.page.width - 80, doc.page.height - 60).stroke(colors.accent);\n            // Slide number\n            doc.fontSize(10).fillColor(colors.secondary).text(`${index + 1} / ${validSlides.length}`, doc.page.width - 100, doc.page.height - 45);\n            // Title\n            const title = slide.title || `Ð¡Ð»Ð°Ð¹Ð´ ${index + 1}`;\n            doc.fontSize(28).fillColor(colors.primary).text(title, centerX, 60, {\n                width: pageWidth,\n                align: \"center\"\n            });\n            // Line under title\n            doc.moveTo(100, 120).lineTo(doc.page.width - 100, 120).strokeColor(colors.accent).lineWidth(2).stroke();\n            // Bullets\n            if (slide.bullets && slide.bullets.length > 0) {\n                let yPos = 150;\n                doc.fontSize(16).fillColor(colors.text);\n                for (const bullet of slide.bullets){\n                    if (!bullet || yPos > doc.page.height - 80) continue;\n                    // Bullet point\n                    doc.circle(80, yPos + 8, 4).fillColor(colors.bullet).fill();\n                    // Bullet text\n                    doc.fillColor(colors.text).text(bullet, 100, yPos, {\n                        width: pageWidth - 60,\n                        lineGap: 3\n                    });\n                    yPos = doc.y + 12;\n                }\n            }\n        });\n        doc.end();\n    });\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKHJzYykvLi9zcmMvbGliL3BkZi50cyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7QUFBaUM7QUFDVDtBQUNKO0FBR3BCLE1BQU1HLFlBQVlGLGdEQUFTLENBQUNJLFFBQVFDLEdBQUcsSUFBSSxVQUFVLFNBQVM7QUFFdkQsU0FBU0M7SUFDZCxPQUFPTCxvREFBYSxDQUFDQztBQUN2QjtBQUVPLFNBQVNNLGVBQWVDLE9BQWUsRUFBRUMsS0FBYSxFQUFFQyxPQUFlO0lBQzVFLE9BQU8sSUFBSUMsUUFBUSxDQUFDQyxTQUFTQztRQUMzQixNQUFNQyxTQUFtQixFQUFFO1FBRTNCLE1BQU1DLE1BQU0sSUFBSWpCLCtDQUFXQSxDQUFDO1lBQzFCa0IsTUFBTTtZQUNOQyxTQUFTO2dCQUFFQyxLQUFLO2dCQUFJQyxRQUFRO2dCQUFJQyxNQUFNO2dCQUFJQyxPQUFPO1lBQUc7WUFDcERDLGFBQWE7UUFDZjtRQUVBUCxJQUFJUSxFQUFFLENBQUMsUUFBUSxDQUFDQyxRQUFrQlYsT0FBT1csSUFBSSxDQUFDRDtRQUM5Q1QsSUFBSVEsRUFBRSxDQUFDLE9BQU8sSUFBTVgsUUFBUWMsT0FBT0MsTUFBTSxDQUFDYjtRQUMxQ0MsSUFBSVEsRUFBRSxDQUFDLFNBQVNWO1FBRWhCLElBQUlSLG1CQUFtQjtZQUNyQlUsSUFBSWEsSUFBSSxDQUFDM0I7UUFDWDtRQUVBLGFBQWE7UUFDYmMsSUFBSWMsUUFBUSxDQUFDLElBQUlDLElBQUksQ0FBQ3JCLE9BQU87WUFBRXNCLE9BQU87UUFBUyxHQUFHQyxRQUFRLENBQUM7UUFDM0RqQixJQUFJYyxRQUFRLENBQUMsSUFBSUMsSUFBSSxDQUFDLENBQUMsU0FBUyxFQUFFcEIsUUFBUSxDQUFDLEVBQUU7WUFBRXFCLE9BQU87UUFBUyxHQUFHQyxRQUFRLENBQUM7UUFDM0VqQixJQUFJYyxRQUFRLENBQUMsSUFBSUMsSUFBSSxDQUFDLHlDQUF5QztZQUFFQyxPQUFPO1FBQVM7UUFFakZoQixJQUFJa0IsT0FBTztRQUVYLE1BQU1DLFFBQVExQixRQUFRMkIsS0FBSyxDQUFDO1FBQzVCLEtBQUssTUFBTUMsUUFBUUYsTUFBTztZQUN4QixNQUFNRyxjQUFjRCxLQUFLRSxJQUFJO1lBQzdCLElBQUksQ0FBQ0QsYUFBYTtnQkFDaEJ0QixJQUFJaUIsUUFBUSxDQUFDO2dCQUNiO1lBQ0Y7WUFFQSxNQUFNTyxXQUNKLHVCQUF1QkMsSUFBSSxDQUFDSCxnQkFDNUIsc0JBQXNCRyxJQUFJLENBQUNILGdCQUMzQkEsWUFBWUksVUFBVSxDQUFDLFlBQ3ZCSixZQUFZSSxVQUFVLENBQUMsZUFDdkJKLFlBQVlJLFVBQVUsQ0FBQyxpQkFDdkJKLFlBQVlJLFVBQVUsQ0FBQyxpQkFDdkJKLFlBQVlJLFVBQVUsQ0FBQztZQUV6QixJQUFJRixVQUFVO2dCQUNaeEIsSUFBSWlCLFFBQVEsQ0FBQyxHQUFHSCxRQUFRLENBQUMsSUFBSUMsSUFBSSxDQUFDTyxhQUFhO29CQUFFTixPQUFPO2dCQUFPLEdBQUdDLFFBQVEsQ0FBQztnQkFDM0VqQixJQUFJYyxRQUFRLENBQUM7WUFDZixPQUFPO2dCQUNMLElBQUlkLElBQUkyQixDQUFDLEdBQUcsS0FBSzNCLElBQUlrQixPQUFPO2dCQUM1QmxCLElBQUllLElBQUksQ0FBQ08sYUFBYTtvQkFBRU4sT0FBTztvQkFBV1ksU0FBUztvQkFBR0MsY0FBYztnQkFBRTtZQUN4RTtRQUNGO1FBRUEsZUFBZTtRQUNmLE1BQU1DLFlBQVk5QixJQUFJK0IsaUJBQWlCLEdBQUdDLEtBQUs7UUFDL0MsSUFBSyxJQUFJQyxJQUFJLEdBQUdBLElBQUlILFdBQVdHLElBQUs7WUFDbENqQyxJQUFJa0MsWUFBWSxDQUFDRDtZQUNqQmpDLElBQUljLFFBQVEsQ0FBQyxJQUFJQyxJQUFJLENBQUMsQ0FBQyxFQUFFa0IsSUFBSSxFQUFFLENBQUMsRUFBRSxHQUFHakMsSUFBSW1DLElBQUksQ0FBQ0MsTUFBTSxHQUFHLElBQUk7Z0JBQUVwQixPQUFPO1lBQVM7UUFDL0U7UUFFQWhCLElBQUlxQyxHQUFHO0lBQ1Q7QUFDRjtBQUVPLFNBQVNDLHdCQUF3QkMsTUFBZSxFQUFFN0MsS0FBYSxFQUFFQyxPQUFlO0lBQ3JGLE9BQU8sSUFBSUMsUUFBUSxDQUFDQyxTQUFTQztRQUMzQixNQUFNQyxTQUFtQixFQUFFO1FBRTNCLE1BQU1DLE1BQU0sSUFBSWpCLCtDQUFXQSxDQUFDO1lBQzFCa0IsTUFBTTtZQUNOdUMsUUFBUTtZQUNSdEMsU0FBUztnQkFBRUMsS0FBSztnQkFBSUMsUUFBUTtnQkFBSUMsTUFBTTtnQkFBSUMsT0FBTztZQUFHO1lBQ3BEQyxhQUFhO1FBQ2Y7UUFFQVAsSUFBSVEsRUFBRSxDQUFDLFFBQVEsQ0FBQ0MsUUFBa0JWLE9BQU9XLElBQUksQ0FBQ0Q7UUFDOUNULElBQUlRLEVBQUUsQ0FBQyxPQUFPLElBQU1YLFFBQVFjLE9BQU9DLE1BQU0sQ0FBQ2I7UUFDMUNDLElBQUlRLEVBQUUsQ0FBQyxTQUFTVjtRQUVoQixJQUFJUixtQkFBbUI7WUFDckJVLElBQUlhLElBQUksQ0FBQzNCO1FBQ1g7UUFFQSxNQUFNdUQsU0FBUztZQUNiQyxTQUFTO1lBQ1RDLFdBQVc7WUFDWEMsUUFBUTtZQUNSN0IsTUFBTTtZQUNOOEIsUUFBUTtRQUNWO1FBRUEscUNBQXFDO1FBQ3JDLE1BQU1DLGNBQWNQLE9BQU9RLE1BQU0sQ0FBQ0MsQ0FBQUEsUUFDaENBLFNBQVVBLENBQUFBLE1BQU1DLEtBQUssSUFBS0QsTUFBTUUsT0FBTyxJQUFJRixNQUFNRSxPQUFPLENBQUNDLE1BQU0sR0FBRyxDQUFDO1FBR3JFTCxZQUFZTSxPQUFPLENBQUMsQ0FBQ0osT0FBT0s7WUFDMUIsSUFBSUEsUUFBUSxHQUFHckQsSUFBSWtCLE9BQU87WUFFMUIsTUFBTW9DLFlBQVl0RCxJQUFJbUMsSUFBSSxDQUFDb0IsS0FBSyxHQUFHO1lBQ25DLE1BQU1DLFVBQVU7WUFFaEIsU0FBUztZQUNUeEQsSUFBSXlELElBQUksQ0FBQyxJQUFJLElBQUl6RCxJQUFJbUMsSUFBSSxDQUFDb0IsS0FBSyxHQUFHLElBQUl2RCxJQUFJbUMsSUFBSSxDQUFDQyxNQUFNLEdBQUcsSUFBSXNCLE1BQU0sQ0FBQ2pCLE9BQU9HLE1BQU07WUFFaEYsZUFBZTtZQUNmNUMsSUFBSWMsUUFBUSxDQUFDLElBQUk2QyxTQUFTLENBQUNsQixPQUFPRSxTQUFTLEVBQUU1QixJQUFJLENBQUMsQ0FBQyxFQUFFc0MsUUFBUSxFQUFFLEdBQUcsRUFBRVAsWUFBWUssTUFBTSxDQUFDLENBQUMsRUFBRW5ELElBQUltQyxJQUFJLENBQUNvQixLQUFLLEdBQUcsS0FBS3ZELElBQUltQyxJQUFJLENBQUNDLE1BQU0sR0FBRztZQUVsSSxRQUFRO1lBQ1IsTUFBTWEsUUFBUUQsTUFBTUMsS0FBSyxJQUFJLENBQUMsTUFBTSxFQUFFSSxRQUFRLEVBQUUsQ0FBQztZQUNqRHJELElBQUljLFFBQVEsQ0FBQyxJQUFJNkMsU0FBUyxDQUFDbEIsT0FBT0MsT0FBTyxFQUFFM0IsSUFBSSxDQUFDa0MsT0FBT08sU0FBUyxJQUFJO2dCQUFFRCxPQUFPRDtnQkFBV3RDLE9BQU87WUFBUztZQUV4RyxtQkFBbUI7WUFDbkJoQixJQUFJNEQsTUFBTSxDQUFDLEtBQUssS0FBS0MsTUFBTSxDQUFDN0QsSUFBSW1DLElBQUksQ0FBQ29CLEtBQUssR0FBRyxLQUFLLEtBQUtPLFdBQVcsQ0FBQ3JCLE9BQU9HLE1BQU0sRUFBRW1CLFNBQVMsQ0FBQyxHQUFHTCxNQUFNO1lBRXJHLFVBQVU7WUFDVixJQUFJVixNQUFNRSxPQUFPLElBQUlGLE1BQU1FLE9BQU8sQ0FBQ0MsTUFBTSxHQUFHLEdBQUc7Z0JBQzdDLElBQUlhLE9BQU87Z0JBQ1hoRSxJQUFJYyxRQUFRLENBQUMsSUFBSTZDLFNBQVMsQ0FBQ2xCLE9BQU8xQixJQUFJO2dCQUV0QyxLQUFLLE1BQU04QixVQUFVRyxNQUFNRSxPQUFPLENBQUU7b0JBQ2xDLElBQUksQ0FBQ0wsVUFBVW1CLE9BQU9oRSxJQUFJbUMsSUFBSSxDQUFDQyxNQUFNLEdBQUcsSUFBSTtvQkFFNUMsZUFBZTtvQkFDZnBDLElBQUlpRSxNQUFNLENBQUMsSUFBSUQsT0FBTyxHQUFHLEdBQUdMLFNBQVMsQ0FBQ2xCLE9BQU9JLE1BQU0sRUFBRXFCLElBQUk7b0JBRXpELGNBQWM7b0JBQ2RsRSxJQUFJMkQsU0FBUyxDQUFDbEIsT0FBTzFCLElBQUksRUFBRUEsSUFBSSxDQUFDOEIsUUFBUSxLQUFLbUIsTUFBTTt3QkFDakRULE9BQU9ELFlBQVk7d0JBQ25CMUIsU0FBUztvQkFDWDtvQkFFQW9DLE9BQU9oRSxJQUFJMkIsQ0FBQyxHQUFHO2dCQUNqQjtZQUNGO1FBQ0Y7UUFFQTNCLElBQUlxQyxHQUFHO0lBQ1Q7QUFDRiIsInNvdXJjZXMiOlsid2VicGFjazovL3N0dWRlbnQtYWktbmV4dGpzLy4vc3JjL2xpYi9wZGYudHM/NWUyOCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgUERGRG9jdW1lbnQgZnJvbSAncGRma2l0JztcclxuaW1wb3J0IHBhdGggZnJvbSAncGF0aCc7XHJcbmltcG9ydCBmcyBmcm9tICdmcyc7XHJcbmltcG9ydCB0eXBlIHsgU2xpZGUgfSBmcm9tICcuL2FpJztcclxuXHJcbmNvbnN0IEZPTlRfUEFUSCA9IHBhdGguam9pbihwcm9jZXNzLmN3ZCgpLCAncHVibGljJywgJ2ZvbnRzJywgJ1JvYm90by1SZWd1bGFyLnR0ZicpO1xyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGhhc0N5cmlsbGljRm9udCgpOiBib29sZWFuIHtcclxuICByZXR1cm4gZnMuZXhpc3RzU3luYyhGT05UX1BBVEgpO1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gZ2VuZXJhdGVTUlNQZGYoY29udGVudDogc3RyaW5nLCB0b3BpYzogc3RyaW5nLCBzdWJqZWN0OiBzdHJpbmcpOiBQcm9taXNlPEJ1ZmZlcj4ge1xyXG4gIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSwgcmVqZWN0KSA9PiB7XHJcbiAgICBjb25zdCBjaHVua3M6IEJ1ZmZlcltdID0gW107XHJcblxyXG4gICAgY29uc3QgZG9jID0gbmV3IFBERkRvY3VtZW50KHtcclxuICAgICAgc2l6ZTogJ0E0JyxcclxuICAgICAgbWFyZ2luczogeyB0b3A6IDcyLCBib3R0b206IDcyLCBsZWZ0OiA3MiwgcmlnaHQ6IDcyIH0sXHJcbiAgICAgIGJ1ZmZlclBhZ2VzOiB0cnVlLFxyXG4gICAgfSk7XHJcblxyXG4gICAgZG9jLm9uKCdkYXRhJywgKGNodW5rOiBCdWZmZXIpID0+IGNodW5rcy5wdXNoKGNodW5rKSk7XHJcbiAgICBkb2Mub24oJ2VuZCcsICgpID0+IHJlc29sdmUoQnVmZmVyLmNvbmNhdChjaHVua3MpKSk7XHJcbiAgICBkb2Mub24oJ2Vycm9yJywgcmVqZWN0KTtcclxuXHJcbiAgICBpZiAoaGFzQ3lyaWxsaWNGb250KCkpIHtcclxuICAgICAgZG9jLmZvbnQoRk9OVF9QQVRIKTtcclxuICAgIH1cclxuXHJcbiAgICAvLyBUaXRsZSBQYWdlXHJcbiAgICBkb2MuZm9udFNpemUoMjQpLnRleHQodG9waWMsIHsgYWxpZ246ICdjZW50ZXInIH0pLm1vdmVEb3duKDIpO1xyXG4gICAgZG9jLmZvbnRTaXplKDE2KS50ZXh0KGDQn9GA0LXQtNC80LXRgjogJHtzdWJqZWN0fWAsIHsgYWxpZ246ICdjZW50ZXInIH0pLm1vdmVEb3duKDQpO1xyXG4gICAgZG9jLmZvbnRTaXplKDEyKS50ZXh0KCfQodCg0KEgKNCh0LDQvNC+0YHRgtC+0Y/RgtC10LvRjNC90LDRjyDRgNCw0LHQvtGC0LAg0YHRgtGD0LTQtdC90YLQsCknLCB7IGFsaWduOiAnY2VudGVyJyB9KTtcclxuXHJcbiAgICBkb2MuYWRkUGFnZSgpO1xyXG5cclxuICAgIGNvbnN0IGxpbmVzID0gY29udGVudC5zcGxpdCgnXFxuJyk7XHJcbiAgICBmb3IgKGNvbnN0IGxpbmUgb2YgbGluZXMpIHtcclxuICAgICAgY29uc3QgdHJpbW1lZExpbmUgPSBsaW5lLnRyaW0oKTtcclxuICAgICAgaWYgKCF0cmltbWVkTGluZSkge1xyXG4gICAgICAgIGRvYy5tb3ZlRG93bigwLjUpO1xyXG4gICAgICAgIGNvbnRpbnVlO1xyXG4gICAgICB9XHJcblxyXG4gICAgICBjb25zdCBpc0hlYWRlciA9XHJcbiAgICAgICAgL15b0JAt0K/QgdCG0IfQhNKQXFxzXFxkLl0rOj8kLy50ZXN0KHRyaW1tZWRMaW5lKSB8fFxyXG4gICAgICAgIC9eXFxkK1xcLlxccytb0JAt0K/QgdCG0IfQhNKQXS8udGVzdCh0cmltbWVkTGluZSkgfHxcclxuICAgICAgICB0cmltbWVkTGluZS5zdGFydHNXaXRoKCfQk9Cb0JDQktCQJykgfHxcclxuICAgICAgICB0cmltbWVkTGluZS5zdGFydHNXaXRoKCfQktCS0JXQlNCV0J3QmNCVJykgfHxcclxuICAgICAgICB0cmltbWVkTGluZS5zdGFydHNXaXRoKCfQl9CQ0JrQm9Cu0KfQldCd0JjQlScpIHx8XHJcbiAgICAgICAgdHJpbW1lZExpbmUuc3RhcnRzV2l0aCgn0J7Qk9Cb0JDQktCb0JXQndCY0JUnKSB8fFxyXG4gICAgICAgIHRyaW1tZWRMaW5lLnN0YXJ0c1dpdGgoJ9Ch0J/QmNCh0J7QmicpO1xyXG5cclxuICAgICAgaWYgKGlzSGVhZGVyKSB7XHJcbiAgICAgICAgZG9jLm1vdmVEb3duKDEpLmZvbnRTaXplKDE0KS50ZXh0KHRyaW1tZWRMaW5lLCB7IGFsaWduOiAnbGVmdCcgfSkubW92ZURvd24oMC41KTtcclxuICAgICAgICBkb2MuZm9udFNpemUoMTIpO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIGlmIChkb2MueSA+IDcwMCkgZG9jLmFkZFBhZ2UoKTtcclxuICAgICAgICBkb2MudGV4dCh0cmltbWVkTGluZSwgeyBhbGlnbjogJ2p1c3RpZnknLCBsaW5lR2FwOiA0LCBwYXJhZ3JhcGhHYXA6IDggfSk7XHJcbiAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvLyBQYWdlIG51bWJlcnNcclxuICAgIGNvbnN0IHBhZ2VDb3VudCA9IGRvYy5idWZmZXJlZFBhZ2VSYW5nZSgpLmNvdW50O1xyXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCBwYWdlQ291bnQ7IGkrKykge1xyXG4gICAgICBkb2Muc3dpdGNoVG9QYWdlKGkpO1xyXG4gICAgICBkb2MuZm9udFNpemUoMTApLnRleHQoYCR7aSArIDF9YCwgMCwgZG9jLnBhZ2UuaGVpZ2h0IC0gNTAsIHsgYWxpZ246ICdjZW50ZXInIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIGRvYy5lbmQoKTtcclxuICB9KTtcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGdlbmVyYXRlUHJlc2VudGF0aW9uUGRmKHNsaWRlczogU2xpZGVbXSwgdG9waWM6IHN0cmluZywgc3ViamVjdDogc3RyaW5nKTogUHJvbWlzZTxCdWZmZXI+IHtcclxuICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xyXG4gICAgY29uc3QgY2h1bmtzOiBCdWZmZXJbXSA9IFtdO1xyXG5cclxuICAgIGNvbnN0IGRvYyA9IG5ldyBQREZEb2N1bWVudCh7XHJcbiAgICAgIHNpemU6ICdBNCcsXHJcbiAgICAgIGxheW91dDogJ2xhbmRzY2FwZScsXHJcbiAgICAgIG1hcmdpbnM6IHsgdG9wOiA1MCwgYm90dG9tOiA1MCwgbGVmdDogNjAsIHJpZ2h0OiA2MCB9LFxyXG4gICAgICBidWZmZXJQYWdlczogdHJ1ZSxcclxuICAgIH0pO1xyXG5cclxuICAgIGRvYy5vbignZGF0YScsIChjaHVuazogQnVmZmVyKSA9PiBjaHVua3MucHVzaChjaHVuaykpO1xyXG4gICAgZG9jLm9uKCdlbmQnLCAoKSA9PiByZXNvbHZlKEJ1ZmZlci5jb25jYXQoY2h1bmtzKSkpO1xyXG4gICAgZG9jLm9uKCdlcnJvcicsIHJlamVjdCk7XHJcblxyXG4gICAgaWYgKGhhc0N5cmlsbGljRm9udCgpKSB7XHJcbiAgICAgIGRvYy5mb250KEZPTlRfUEFUSCk7XHJcbiAgICB9XHJcblxyXG4gICAgY29uc3QgY29sb3JzID0ge1xyXG4gICAgICBwcmltYXJ5OiAnIzFhMzY1ZCcsXHJcbiAgICAgIHNlY29uZGFyeTogJyMyYjZjYjAnLFxyXG4gICAgICBhY2NlbnQ6ICcjNDI5OWUxJyxcclxuICAgICAgdGV4dDogJyMyZDM3NDgnLFxyXG4gICAgICBidWxsZXQ6ICcjZTUzZTNlJyxcclxuICAgIH07XHJcblxyXG4gICAgLy8gRmlsdGVyIG91dCBlbXB0eSBvciBpbnZhbGlkIHNsaWRlc1xyXG4gICAgY29uc3QgdmFsaWRTbGlkZXMgPSBzbGlkZXMuZmlsdGVyKHNsaWRlID0+IFxyXG4gICAgICBzbGlkZSAmJiAoc2xpZGUudGl0bGUgfHwgKHNsaWRlLmJ1bGxldHMgJiYgc2xpZGUuYnVsbGV0cy5sZW5ndGggPiAwKSlcclxuICAgICk7XHJcblxyXG4gICAgdmFsaWRTbGlkZXMuZm9yRWFjaCgoc2xpZGUsIGluZGV4KSA9PiB7XHJcbiAgICAgIGlmIChpbmRleCA+IDApIGRvYy5hZGRQYWdlKCk7XHJcblxyXG4gICAgICBjb25zdCBwYWdlV2lkdGggPSBkb2MucGFnZS53aWR0aCAtIDEyMDtcclxuICAgICAgY29uc3QgY2VudGVyWCA9IDYwO1xyXG5cclxuICAgICAgLy8gQm9yZGVyXHJcbiAgICAgIGRvYy5yZWN0KDQwLCAzMCwgZG9jLnBhZ2Uud2lkdGggLSA4MCwgZG9jLnBhZ2UuaGVpZ2h0IC0gNjApLnN0cm9rZShjb2xvcnMuYWNjZW50KTtcclxuXHJcbiAgICAgIC8vIFNsaWRlIG51bWJlclxyXG4gICAgICBkb2MuZm9udFNpemUoMTApLmZpbGxDb2xvcihjb2xvcnMuc2Vjb25kYXJ5KS50ZXh0KGAke2luZGV4ICsgMX0gLyAke3ZhbGlkU2xpZGVzLmxlbmd0aH1gLCBkb2MucGFnZS53aWR0aCAtIDEwMCwgZG9jLnBhZ2UuaGVpZ2h0IC0gNDUpO1xyXG5cclxuICAgICAgLy8gVGl0bGVcclxuICAgICAgY29uc3QgdGl0bGUgPSBzbGlkZS50aXRsZSB8fCBg0KHQu9Cw0LnQtCAke2luZGV4ICsgMX1gO1xyXG4gICAgICBkb2MuZm9udFNpemUoMjgpLmZpbGxDb2xvcihjb2xvcnMucHJpbWFyeSkudGV4dCh0aXRsZSwgY2VudGVyWCwgNjAsIHsgd2lkdGg6IHBhZ2VXaWR0aCwgYWxpZ246ICdjZW50ZXInIH0pO1xyXG5cclxuICAgICAgLy8gTGluZSB1bmRlciB0aXRsZVxyXG4gICAgICBkb2MubW92ZVRvKDEwMCwgMTIwKS5saW5lVG8oZG9jLnBhZ2Uud2lkdGggLSAxMDAsIDEyMCkuc3Ryb2tlQ29sb3IoY29sb3JzLmFjY2VudCkubGluZVdpZHRoKDIpLnN0cm9rZSgpO1xyXG5cclxuICAgICAgLy8gQnVsbGV0c1xyXG4gICAgICBpZiAoc2xpZGUuYnVsbGV0cyAmJiBzbGlkZS5idWxsZXRzLmxlbmd0aCA+IDApIHtcclxuICAgICAgICBsZXQgeVBvcyA9IDE1MDtcclxuICAgICAgICBkb2MuZm9udFNpemUoMTYpLmZpbGxDb2xvcihjb2xvcnMudGV4dCk7XHJcblxyXG4gICAgICAgIGZvciAoY29uc3QgYnVsbGV0IG9mIHNsaWRlLmJ1bGxldHMpIHtcclxuICAgICAgICAgIGlmICghYnVsbGV0IHx8IHlQb3MgPiBkb2MucGFnZS5oZWlnaHQgLSA4MCkgY29udGludWU7XHJcbiAgICAgICAgICBcclxuICAgICAgICAgIC8vIEJ1bGxldCBwb2ludFxyXG4gICAgICAgICAgZG9jLmNpcmNsZSg4MCwgeVBvcyArIDgsIDQpLmZpbGxDb2xvcihjb2xvcnMuYnVsbGV0KS5maWxsKCk7XHJcbiAgICAgICAgICBcclxuICAgICAgICAgIC8vIEJ1bGxldCB0ZXh0XHJcbiAgICAgICAgICBkb2MuZmlsbENvbG9yKGNvbG9ycy50ZXh0KS50ZXh0KGJ1bGxldCwgMTAwLCB5UG9zLCB7IFxyXG4gICAgICAgICAgICB3aWR0aDogcGFnZVdpZHRoIC0gNjAsIFxyXG4gICAgICAgICAgICBsaW5lR2FwOiAzIFxyXG4gICAgICAgICAgfSk7XHJcbiAgICAgICAgICBcclxuICAgICAgICAgIHlQb3MgPSBkb2MueSArIDEyO1xyXG4gICAgICAgIH1cclxuICAgICAgfVxyXG4gICAgfSk7XHJcblxyXG4gICAgZG9jLmVuZCgpO1xyXG4gIH0pO1xyXG59XHJcbiJdLCJuYW1lcyI6WyJQREZEb2N1bWVudCIsInBhdGgiLCJmcyIsIkZPTlRfUEFUSCIsImpvaW4iLCJwcm9jZXNzIiwiY3dkIiwiaGFzQ3lyaWxsaWNGb250IiwiZXhpc3RzU3luYyIsImdlbmVyYXRlU1JTUGRmIiwiY29udGVudCIsInRvcGljIiwic3ViamVjdCIsIlByb21pc2UiLCJyZXNvbHZlIiwicmVqZWN0IiwiY2h1bmtzIiwiZG9jIiwic2l6ZSIsIm1hcmdpbnMiLCJ0b3AiLCJib3R0b20iLCJsZWZ0IiwicmlnaHQiLCJidWZmZXJQYWdlcyIsIm9uIiwiY2h1bmsiLCJwdXNoIiwiQnVmZmVyIiwiY29uY2F0IiwiZm9udCIsImZvbnRTaXplIiwidGV4dCIsImFsaWduIiwibW92ZURvd24iLCJhZGRQYWdlIiwibGluZXMiLCJzcGxpdCIsImxpbmUiLCJ0cmltbWVkTGluZSIsInRyaW0iLCJpc0hlYWRlciIsInRlc3QiLCJzdGFydHNXaXRoIiwieSIsImxpbmVHYXAiLCJwYXJhZ3JhcGhHYXAiLCJwYWdlQ291bnQiLCJidWZmZXJlZFBhZ2VSYW5nZSIsImNvdW50IiwiaSIsInN3aXRjaFRvUGFnZSIsInBhZ2UiLCJoZWlnaHQiLCJlbmQiLCJnZW5lcmF0ZVByZXNlbnRhdGlvblBkZiIsInNsaWRlcyIsImxheW91dCIsImNvbG9ycyIsInByaW1hcnkiLCJzZWNvbmRhcnkiLCJhY2NlbnQiLCJidWxsZXQiLCJ2YWxpZFNsaWRlcyIsImZpbHRlciIsInNsaWRlIiwidGl0bGUiLCJidWxsZXRzIiwibGVuZ3RoIiwiZm9yRWFjaCIsImluZGV4IiwicGFnZVdpZHRoIiwid2lkdGgiLCJjZW50ZXJYIiwicmVjdCIsInN0cm9rZSIsImZpbGxDb2xvciIsIm1vdmVUbyIsImxpbmVUbyIsInN0cm9rZUNvbG9yIiwibGluZVdpZHRoIiwieVBvcyIsImNpcmNsZSIsImZpbGwiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(rsc)/./src/lib/pdf.ts\n");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../../webpack-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/next","vendor-chunks/@neondatabase","vendor-chunks/ws","vendor-chunks/@vercel","vendor-chunks/node-gyp-build","vendor-chunks/bufferutil","vendor-chunks/@google"], () => (__webpack_exec__("(rsc)/./node_modules/next/dist/build/webpack/loaders/next-app-loader.js?name=app%2Fapi%2Fgenerate%2Froute&page=%2Fapi%2Fgenerate%2Froute&appPaths=&pagePath=private-next-app-dir%2Fapi%2Fgenerate%2Froute.ts&appDir=C%3A%5CUsers%5CMardin%20it%5CDesktop%5Ccrs%5Cstudent-ai-nextjs%5Csrc%5Capp&pageExtensions=tsx&pageExtensions=ts&pageExtensions=jsx&pageExtensions=js&rootDir=C%3A%5CUsers%5CMardin%20it%5CDesktop%5Ccrs%5Cstudent-ai-nextjs&isDev=true&tsconfigPath=tsconfig.json&basePath=&assetPrefix=&nextConfigOutput=&preferredRegion=&middlewareConfig=e30%3D!")));
module.exports = __webpack_exports__;

})();