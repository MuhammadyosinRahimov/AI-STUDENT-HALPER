(()=>{var e={};e.id=931,e.ids=[931],e.modules={2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},6023:(e,t,a)=>{"use strict";a.r(t),a.d(t,{GlobalError:()=>n.a,__next_app__:()=>m,originalPathname:()=>p,pages:()=>c,routeModule:()=>h,tree:()=>d}),a(5480),a(2029),a(5866);var s=a(3191),r=a(8716),l=a(7922),n=a.n(l),i=a(5231),o={};for(let e in i)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>i[e]);a.d(t,o);let d=["",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(a.bind(a,5480)),"C:\\Users\\Mardin it\\Desktop\\crs\\student-ai-nextjs\\src\\app\\page.tsx"]}]},{layout:[()=>Promise.resolve().then(a.bind(a,2029)),"C:\\Users\\Mardin it\\Desktop\\crs\\student-ai-nextjs\\src\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(a.t.bind(a,5866,23)),"next/dist/client/components/not-found-error"]}],c=["C:\\Users\\Mardin it\\Desktop\\crs\\student-ai-nextjs\\src\\app\\page.tsx"],p="/page",m={require:a,loadChunk:()=>Promise.resolve()},h=new s.AppPageRouteModule({definition:{kind:r.x.APP_PAGE,page:"/page",pathname:"/",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},3060:(e,t,a)=>{Promise.resolve().then(a.t.bind(a,2994,23)),Promise.resolve().then(a.t.bind(a,6114,23)),Promise.resolve().then(a.t.bind(a,9727,23)),Promise.resolve().then(a.t.bind(a,9671,23)),Promise.resolve().then(a.t.bind(a,1868,23)),Promise.resolve().then(a.t.bind(a,4759,23))},128:()=>{},5364:(e,t,a)=>{Promise.resolve().then(a.bind(a,216))},216:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>N});var s=a(326),r=a(7577);let l=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),n=(...e)=>e.filter((e,t,a)=>!!e&&a.indexOf(e)===t).join(" ");var i={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};let o=(0,r.forwardRef)(({color:e="currentColor",size:t=24,strokeWidth:a=2,absoluteStrokeWidth:s,className:l="",children:o,iconNode:d,...c},p)=>(0,r.createElement)("svg",{ref:p,...i,width:t,height:t,stroke:e,strokeWidth:s?24*Number(a)/Number(t):a,className:n("lucide",l),...c},[...d.map(([e,t])=>(0,r.createElement)(e,t)),...Array.isArray(o)?o:[o]])),d=(e,t)=>{let a=(0,r.forwardRef)(({className:a,...s},i)=>(0,r.createElement)(o,{ref:i,iconNode:t,className:n(`lucide-${l(e)}`,a),...s}));return a.displayName=`${e}`,a},c=d("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]),p=d("GraduationCap",[["path",{d:"M21.42 10.922a1 1 0 0 0-.019-1.838L12.83 5.18a2 2 0 0 0-1.66 0L2.6 9.08a1 1 0 0 0 0 1.832l8.57 3.908a2 2 0 0 0 1.66 0z",key:"j76jl0"}],["path",{d:"M22 10v6",key:"1lu8f3"}],["path",{d:"M6 12.5V16a6 3 0 0 0 12 0v-3.5",key:"1r8lef"}]]),m=d("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]),h=d("Presentation",[["path",{d:"M2 3h20",key:"91anmk"}],["path",{d:"M21 3v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V3",key:"2k9sn8"}],["path",{d:"m7 21 5-5 5 5",key:"bip4we"}]]),u=d("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]),x=d("CircleCheckBig",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]),y=d("Sparkles",[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]]),g=d("History",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]),b=d("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]),j=d("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]),f=d("BookOpen",[["path",{d:"M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z",key:"vv98re"}],["path",{d:"M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z",key:"1cyq3y"}]]),v=[{code:"ru",name:"Русский",flag:"\uD83C\uDDF7\uD83C\uDDFA"},{code:"tg",name:"Тоҷикӣ",flag:"\uD83C\uDDF9\uD83C\uDDEF"},{code:"en",name:"English",flag:"\uD83C\uDDEC\uD83C\uDDE7"}],w={ru:{appName:"Student AI Helper",appDescription:"Генерация учебного контента с помощью ИИ",documentType:"Тип документа",srs:"СРС (Реферат)",presentation:"Презентация",topic:"Тема",topicPlaceholder:"Например: Влияние интернета на современное общество",subject:"Предмет",subjectPlaceholder:"Например: Социология",pagesCount:"Количество страниц",slidesCount:"Количество слайдов",additionalInfo:"Дополнительные указания",additionalPlaceholder:"Особые требования, акценты, стиль написания...",generate:"Сгенерировать и скачать PDF",generating:"Генерация... (может занять до минуты)",success:"PDF успешно сгенерирован и скачан!",errorFillFields:"Заполните тему и предмет",history:"История генераций",historyEmpty:"История пуста",delete:"Удалить",download:"Скачать",confirmDelete:"Удалить эту запись?",poweredBy:"Powered by Google Gemini AI",language:"Язык",required:"*"},tg:{appName:"Дастёри AI Донишҷӯ",appDescription:"Тавлиди мундариҷаи таълимӣ бо ёрии AI",documentType:"Навъи ҳуҷҷат",srs:"Кори мустақилона",presentation:"Презентатсия",topic:"Мавзӯъ",topicPlaceholder:"Масалан: Таъсири интернет ба ҷамъияти муосир",subject:"Фан",subjectPlaceholder:"Масалан: Ҷомеашиносӣ",pagesCount:"Шумораи саҳифаҳо",slidesCount:"Шумораи слайдҳо",additionalInfo:"Дастурҳои иловагӣ",additionalPlaceholder:"Талаботҳои махсус, услуб...",generate:"Тавлид ва боргирии PDF",generating:"Тавлид... (метавонад як дақиқа давом кунад)",success:"PDF бомуваффақият сохта ва боргирӣ шуд!",errorFillFields:"Мавзӯъ ва фанро пур кунед",history:"Таърихи тавлид",historyEmpty:"Таърих холӣ аст",delete:"Нест кардан",download:"Боргирӣ",confirmDelete:"Оё ин сабтро нест мекунед?",poweredBy:"Бо Google Gemini AI",language:"Забон",required:"*"},en:{appName:"Student AI Helper",appDescription:"AI-powered academic content generation",documentType:"Document Type",srs:"Essay/Paper",presentation:"Presentation",topic:"Topic",topicPlaceholder:"e.g., The impact of internet on modern society",subject:"Subject",subjectPlaceholder:"e.g., Sociology",pagesCount:"Number of pages",slidesCount:"Number of slides",additionalInfo:"Additional instructions",additionalPlaceholder:"Special requirements, emphasis, writing style...",generate:"Generate and Download PDF",generating:"Generating... (may take up to a minute)",success:"PDF successfully generated and downloaded!",errorFillFields:"Please fill in topic and subject",history:"Generation History",historyEmpty:"History is empty",delete:"Delete",download:"Download",confirmDelete:"Delete this record?",poweredBy:"Powered by Google Gemini AI",language:"Language",required:"*"}};function k(e,t){return w[e][t]||t}function N(){let[e,t]=(0,r.useState)("ru"),[a,l]=(0,r.useState)({type:"srs",topic:"",subject:"",pages:5,additionalInfo:""}),[n,i]=(0,r.useState)(!1),[o,d]=(0,r.useState)(""),[w,N]=(0,r.useState)(""),[D,P]=(0,r.useState)([]),[C,M]=(0,r.useState)(!1),q=(0,r.useCallback)(async()=>{try{let e=await fetch("/api/history"),t=await e.json();P(t)}catch{console.error("Failed to load history")}},[]),E=(e,t)=>{l(a=>({...a,[e]:t}))},F=async t=>{t.preventDefault();let{type:s,topic:r,subject:n,pages:o,additionalInfo:c}=a;if(!r.trim()||!n.trim()){d(k(e,"errorFillFields"));return}i(!0),d(""),N("");try{let t=await fetch("/api/generate",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({type:s,topic:r,subject:n,pages:o,additionalInfo:c,language:e})}),a=t.headers.get("content-type");if(!t.ok||!a?.includes("application/pdf")){let e=await t.json();throw Error(e.message||e.error||"Ошибка генерации")}let i=await t.blob();if(0===i.size)throw Error("Получен пустой PDF файл");let d=window.URL.createObjectURL(i),p=document.createElement("a");p.href=d,p.download=`${s}_${r.slice(0,30)}_${Date.now()}.pdf`,document.body.appendChild(p),p.click(),document.body.removeChild(p),window.URL.revokeObjectURL(d),N(k(e,"success")),q(),l(e=>({...e,topic:"",additionalInfo:""}))}catch(e){console.error("Generation error:",e),d(e.message)}finally{i(!1)}},A=async e=>{let t=await fetch(`/api/history/${e}?download=pdf`),a=await t.blob(),s=URL.createObjectURL(a),r=document.createElement("a");r.href=s,r.download=`document_${e}.pdf`,r.click(),URL.revokeObjectURL(s)},L=async t=>{confirm(k(e,"confirmDelete"))&&(await fetch(`/api/history/${t}`,{method:"DELETE"}),q())},S=t=>new Date(t).toLocaleDateString("en"===e?"en-GB":"tg"===e?"tg-TJ":"ru-RU",{day:"numeric",month:"short",hour:"2-digit",minute:"2-digit"});return(0,s.jsxs)("div",{className:"min-h-screen py-8 px-4",children:[(0,s.jsxs)("div",{className:"fixed inset-0 overflow-hidden pointer-events-none",children:[s.jsx("div",{className:"absolute top-20 left-10 w-72 h-72 bg-primary-500/10 rounded-full blur-3xl"}),s.jsx("div",{className:"absolute bottom-20 right-10 w-96 h-96 bg-accent-500/10 rounded-full blur-3xl"})]}),(0,s.jsxs)("div",{className:"relative max-w-2xl mx-auto",children:[s.jsx("div",{className:"flex justify-end mb-4",children:(0,s.jsxs)("div",{className:"flex items-center gap-2 glass-card px-3 py-2",children:[s.jsx(c,{className:"w-4 h-4 text-slate-400"}),v.map(a=>(0,s.jsxs)("button",{onClick:()=>t(a.code),className:`px-3 py-1 rounded-lg text-sm font-medium transition-all ${e===a.code?"bg-primary-500 text-white":"text-slate-400 hover:text-white hover:bg-white/10"}`,children:[a.flag," ",a.name]},a.code))]})}),(0,s.jsxs)("header",{className:"text-center mb-10",children:[s.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 mb-4 rounded-2xl bg-gradient-to-br from-primary-500 to-accent-500 animate-float pulse-glow",children:s.jsx(p,{className:"w-8 h-8 text-white"})}),s.jsx("h1",{className:"text-4xl font-bold mb-2",children:s.jsx("span",{className:"gradient-text",children:k(e,"appName")})}),s.jsx("p",{className:"text-slate-400",children:k(e,"appDescription")})]}),s.jsx("div",{className:"glass-card p-8 mb-6",children:(0,s.jsxs)("form",{onSubmit:F,children:[(0,s.jsxs)("div",{className:"mb-6",children:[s.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-3",children:k(e,"documentType")}),(0,s.jsxs)("div",{className:"type-toggle",children:[s.jsx("div",{className:"absolute h-[calc(100%-8px)] bg-gradient-to-r from-primary-500 to-primary-600 rounded-lg transition-all duration-300",style:{width:"calc(50% - 4px)",left:"srs"===a.type?"4px":"calc(50%)"}}),(0,s.jsxs)("button",{type:"button",onClick:()=>E("type","srs"),className:`type-toggle-btn flex items-center justify-center gap-2 ${"srs"===a.type?"active":""}`,children:[s.jsx(m,{className:"w-4 h-4"}),k(e,"srs")]}),(0,s.jsxs)("button",{type:"button",onClick:()=>E("type","presentation"),className:`type-toggle-btn flex items-center justify-center gap-2 ${"presentation"===a.type?"active":""}`,children:[s.jsx(h,{className:"w-4 h-4"}),k(e,"presentation")]})]})]}),(0,s.jsxs)("div",{className:"mb-4",children:[(0,s.jsxs)("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:[k(e,"topic")," ",k(e,"required")]}),s.jsx("input",{type:"text",value:a.topic,onChange:e=>E("topic",e.target.value),placeholder:k(e,"topicPlaceholder"),className:"glass-input",required:!0})]}),(0,s.jsxs)("div",{className:"mb-4",children:[(0,s.jsxs)("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:[k(e,"subject")," ",k(e,"required")]}),s.jsx("input",{type:"text",value:a.subject,onChange:e=>E("subject",e.target.value),placeholder:k(e,"subjectPlaceholder"),className:"glass-input",required:!0})]}),(0,s.jsxs)("div",{className:"mb-4",children:[s.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:"srs"===a.type?k(e,"pagesCount"):k(e,"slidesCount")}),s.jsx("input",{type:"number",value:a.pages,onChange:e=>E("pages",Math.max(3,Math.min(20,parseInt(e.target.value)||5))),min:3,max:20,className:"glass-input w-32"})]}),(0,s.jsxs)("div",{className:"mb-6",children:[s.jsx("label",{className:"block text-sm font-medium text-slate-300 mb-2",children:k(e,"additionalInfo")}),s.jsx("textarea",{value:a.additionalInfo,onChange:e=>E("additionalInfo",e.target.value),placeholder:k(e,"additionalPlaceholder"),rows:3,className:"glass-input resize-none"})]}),o&&(0,s.jsxs)("div",{className:"mb-4 p-4 bg-red-500/10 border border-red-500/20 rounded-xl flex items-center gap-3 text-red-400",children:[s.jsx(u,{className:"w-5 h-5 flex-shrink-0"}),o]}),w&&(0,s.jsxs)("div",{className:"mb-4 p-4 bg-green-500/10 border border-green-500/20 rounded-xl flex items-center gap-3 text-green-400",children:[s.jsx(x,{className:"w-5 h-5 flex-shrink-0"}),w]}),s.jsx("button",{type:"submit",disabled:n,className:"btn-primary w-full flex items-center justify-center gap-3",children:n?(0,s.jsxs)(s.Fragment,{children:[s.jsx("div",{className:"spinner"}),k(e,"generating")]}):(0,s.jsxs)(s.Fragment,{children:[s.jsx(y,{className:"w-5 h-5"}),k(e,"generate")]})})]})}),(0,s.jsxs)("div",{className:"glass-card p-6",children:[(0,s.jsxs)("button",{onClick:()=>M(!C),className:"w-full flex items-center justify-between text-slate-300 hover:text-white transition-colors",children:[(0,s.jsxs)("span",{className:"flex items-center gap-2 font-medium",children:[s.jsx(g,{className:"w-5 h-5"}),k(e,"history")," (",D.length,")"]}),s.jsx("span",{className:"text-2xl",children:C?"−":"+"})]}),C&&D.length>0&&s.jsx("div",{className:"mt-4 space-y-3",children:D.map(t=>(0,s.jsxs)("div",{className:"flex items-center justify-between p-4 bg-white/5 rounded-xl border border-white/5",children:[(0,s.jsxs)("div",{className:"flex items-center gap-3 min-w-0",children:["srs"===t.type?s.jsx(m,{className:"w-5 h-5 text-primary-400 flex-shrink-0"}):s.jsx(h,{className:"w-5 h-5 text-accent-400 flex-shrink-0"}),(0,s.jsxs)("div",{className:"min-w-0",children:[s.jsx("p",{className:"text-sm font-medium text-white truncate",children:t.topic}),(0,s.jsxs)("p",{className:"text-xs text-slate-400",children:[t.subject," • ",S(t.created_at)]})]})]}),(0,s.jsxs)("div",{className:"flex items-center gap-2 ml-4",children:[s.jsx("button",{onClick:()=>A(t.id),className:"p-2 rounded-lg bg-primary-500/20 text-primary-400 hover:bg-primary-500/30 transition-colors",title:k(e,"download"),children:s.jsx(b,{className:"w-4 h-4"})}),s.jsx("button",{onClick:()=>L(t.id),className:"p-2 rounded-lg bg-red-500/20 text-red-400 hover:bg-red-500/30 transition-colors",title:k(e,"delete"),children:s.jsx(j,{className:"w-4 h-4"})})]})]},t.id))}),C&&0===D.length&&s.jsx("p",{className:"mt-4 text-center text-slate-500 py-4",children:k(e,"historyEmpty")})]}),(0,s.jsxs)("footer",{className:"text-center mt-8 text-slate-500 text-sm",children:[(0,s.jsxs)("p",{className:"flex items-center justify-center gap-2",children:[s.jsx(f,{className:"w-4 h-4"}),k(e,"poweredBy")]}),s.jsx("p",{className:"mt-1 text-xs text-slate-600",children:"v2.0.0 (Next.js)"})]})]})]})}},2029:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>l,metadata:()=>r});var s=a(9510);a(5023);let r={title:"Student AI Helper",description:"Генерация учебного контента с помощью ИИ"};function l({children:e}){return s.jsx("html",{lang:"ru",children:s.jsx("body",{children:e})})}},5480:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>s});let s=(0,a(8570).createProxy)(String.raw`C:\Users\Mardin it\Desktop\crs\student-ai-nextjs\src\app\page.tsx#default`)},5023:()=>{}};var t=require("../webpack-runtime.js");t.C(e);var a=e=>t(t.s=e),s=t.X(0,[276,471],()=>a(6023));module.exports=s})();